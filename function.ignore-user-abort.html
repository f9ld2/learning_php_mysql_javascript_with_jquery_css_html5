---
layout: default
---

 <div class="refnamediv">
  <h1 class="refname">ignore_user_abort</h1>
  <p class="verinfo">(PHP 4, PHP 5, PHP 7)</p><p class="refpurpose"><span class="refname">ignore_user_abort</span> &#x2014; <span class="dc-title">Set whether a client disconnect should abort script execution</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.ignore-user-abort-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">int</span> <span class="methodname"><strong>ignore_user_abort</strong></span>
    ([ <span class="methodparam"><span class="type">bool</span> <code class="parameter">$value</code></span>
  ] )</div>

  <p class="para rdfs-comment">
   Sets whether a client disconnect should cause a script to be aborted.
  </p>
  <p class="para">
   When running PHP as a command line script, and the script&apos;s tty goes
   away without the script being terminated then the script will die the
   next time it tries to write anything, unless
   <code class="parameter">value</code> is set to <strong><code>TRUE</code></strong>
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.ignore-user-abort-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">value</code></dt>

     <dd>

      <p class="para">
       If set, this function will set the <a href="misc.configuration.html#ini.ignore-user-abort" class="link">ignore_user_abort</a> ini setting
       to the given <code class="parameter">value</code>. If not, this function will
       only return the previous setting without changing it.
      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.ignore-user-abort-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns the previous setting, as an integer.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.ignore-user-abort-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   <div class="example" id="example-4367">
    <p><strong>Example #1 A <span class="function"><strong>ignore_user_abort()</strong></span> example</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">//&#xA0;Ignore&#xA0;user&#xA0;aborts&#xA0;and&#xA0;allow&#xA0;the&#xA0;script<br>//&#xA0;to&#xA0;run&#xA0;forever<br></span><span style="color: #0000BB">ignore_user_abort</span><span style="color: #007700">(</span><span style="color: #0000BB">true</span><span style="color: #007700">);<br></span><span style="color: #0000BB">set_time_limit</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br><br>echo&#xA0;</span><span style="color: #DD0000">&apos;Testing&#xA0;connection&#xA0;handling&#xA0;in&#xA0;PHP&apos;</span><span style="color: #007700">;<br><br></span><span style="color: #FF8000">//&#xA0;Run&#xA0;a&#xA0;pointless&#xA0;loop&#xA0;that&#xA0;sometime&#xA0;<br>//&#xA0;hopefully&#xA0;will&#xA0;make&#xA0;us&#xA0;click&#xA0;away&#xA0;from&#xA0;<br>//&#xA0;page&#xA0;or&#xA0;click&#xA0;the&#xA0;&quot;Stop&quot;&#xA0;button.<br></span><span style="color: #007700">while(</span><span style="color: #0000BB">1</span><span style="color: #007700">)<br>{<br>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #FF8000">//&#xA0;Did&#xA0;the&#xA0;connection&#xA0;fail?<br>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #007700">if(</span><span style="color: #0000BB">connection_status</span><span style="color: #007700">()&#xA0;!=&#xA0;</span><span style="color: #0000BB">CONNECTION_NORMAL</span><span style="color: #007700">)<br>&#xA0;&#xA0;&#xA0;&#xA0;{<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;break;<br>&#xA0;&#xA0;&#xA0;&#xA0;}<br><br>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #FF8000">//&#xA0;Sleep&#xA0;for&#xA0;10&#xA0;seconds<br>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #0000BB">sleep</span><span style="color: #007700">(</span><span style="color: #0000BB">10</span><span style="color: #007700">);<br>}<br><br></span><span style="color: #FF8000">//&#xA0;If&#xA0;this&#xA0;is&#xA0;reached,&#xA0;then&#xA0;the&#xA0;&apos;break&apos;&#xA0;<br>//&#xA0;was&#xA0;triggered&#xA0;from&#xA0;inside&#xA0;the&#xA0;while&#xA0;loop<br><br>//&#xA0;So&#xA0;here&#xA0;we&#xA0;can&#xA0;log,&#xA0;or&#xA0;perform&#xA0;any&#xA0;other&#xA0;tasks<br>//&#xA0;we&#xA0;need&#xA0;without&#xA0;actually&#xA0;being&#xA0;dependent&#xA0;on&#xA0;the&#xA0;<br>//&#xA0;browser.<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.ignore-user-abort-notes">
  <h3 class="title">Notes</h3>
  <p class="para">
   PHP will not detect that the user has aborted the connection until
   an attempt is made to send information to the client. Simply using
   an echo statement does not guarantee that information is sent, see
   <span class="function"><a href="function.flush.html" class="function">flush()</a></span>. 
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.ignore-user-abort-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.connection-aborted.html" class="function" rel="rdfs-seeAlso">connection_aborted()</a> - Check whether client disconnected</span></li>
    <li class="member"><span class="function"><a href="function.connection-status.html" class="function" rel="rdfs-seeAlso">connection_status()</a> - Returns connection status bitfield</span></li>
    <li class="member">
     <a href="features.connection-handling.html" class="link">Connection Handling</a>
     for a complete description of connection handling in PHP.
    </li>
   </ul>
  </p>
 </div>


