---
layout: default
---

  <h2 class="title">Constructors and Destructors</h2>

  <div class="sect2" id="language.oop5.decon.constructor">
   <h3 class="title">Constructor</h3>
   <div class="methodsynopsis dc-description" id="object.construct">
    <span class="type"><span class="type void">void</span></span> <span class="methodname"><strong>__construct</strong></span>
     ([ <span class="methodparam"><span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$args</code><span class="initializer"> = &quot;&quot;</span></span>
    [, <span class="methodparam"> <code class="parameter">$...</code></span>
   ]] )</div>

   <p class="para">
    PHP 5 allows developers to declare constructor methods for classes.
    Classes which have a constructor method call this method on each
    newly-created object, so it is suitable for any initialization that the
    object may need before it is used.
   </p>
   <blockquote class="note"><p><strong class="note">Note</strong>: 
    <span class="simpara">
     Parent constructors are not called implicitly if the child class defines
     a constructor.  In order to run a parent constructor, a call to
     <span class="function"><strong>parent::__construct()</strong></span> within the child constructor is
     required. If the child does not define a constructor then it may be inherited
     from the parent class just like a normal class method (if it was not declared
     as private).
    </span>
   </p></blockquote>
   <div class="example" id="example-191">
    <p><strong>Example #1 using new unified constructors</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #007700">class&#xA0;</span><span style="color: #0000BB">BaseClass&#xA0;</span><span style="color: #007700">{<br>&#xA0;&#xA0;&#xA0;function&#xA0;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">()&#xA0;{<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;print&#xA0;</span><span style="color: #DD0000">&quot;In&#xA0;BaseClass&#xA0;constructor\n&quot;</span><span style="color: #007700">;<br>&#xA0;&#xA0;&#xA0;}<br>}<br><br>class&#xA0;</span><span style="color: #0000BB">SubClass&#xA0;</span><span style="color: #007700">extends&#xA0;</span><span style="color: #0000BB">BaseClass&#xA0;</span><span style="color: #007700">{<br>&#xA0;&#xA0;&#xA0;function&#xA0;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">()&#xA0;{<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #0000BB">parent</span><span style="color: #007700">::</span><span style="color: #0000BB">__construct</span><span style="color: #007700">();<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;print&#xA0;</span><span style="color: #DD0000">&quot;In&#xA0;SubClass&#xA0;constructor\n&quot;</span><span style="color: #007700">;<br>&#xA0;&#xA0;&#xA0;}<br>}<br><br>class&#xA0;</span><span style="color: #0000BB">OtherSubClass&#xA0;</span><span style="color: #007700">extends&#xA0;</span><span style="color: #0000BB">BaseClass&#xA0;</span><span style="color: #007700">{<br>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #FF8000">//&#xA0;inherits&#xA0;BaseClass&apos;s&#xA0;constructor<br></span><span style="color: #007700">}<br><br></span><span style="color: #FF8000">//&#xA0;In&#xA0;BaseClass&#xA0;constructor<br></span><span style="color: #0000BB">$obj&#xA0;</span><span style="color: #007700">=&#xA0;new&#xA0;</span><span style="color: #0000BB">BaseClass</span><span style="color: #007700">();<br><br></span><span style="color: #FF8000">//&#xA0;In&#xA0;BaseClass&#xA0;constructor<br>//&#xA0;In&#xA0;SubClass&#xA0;constructor<br></span><span style="color: #0000BB">$obj&#xA0;</span><span style="color: #007700">=&#xA0;new&#xA0;</span><span style="color: #0000BB">SubClass</span><span style="color: #007700">();<br><br></span><span style="color: #FF8000">//&#xA0;In&#xA0;BaseClass&#xA0;constructor<br></span><span style="color: #0000BB">$obj&#xA0;</span><span style="color: #007700">=&#xA0;new&#xA0;</span><span style="color: #0000BB">OtherSubClass</span><span style="color: #007700">();<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
   <p class="para">
    For backwards compatibility with PHP 3 and 4, if PHP cannot find a 
    <a href="language.oop5.decon.html#object.construct" class="link">__construct()</a> function for a given
    class, it will
    search for the old-style constructor function, by the name of the class.
    Effectively, it means that the only case that would have compatibility
    issues is if the class had a method named 
    <a href="language.oop5.decon.html#object.construct" class="link">__construct()</a> which was used for
    different semantics.
   </p>
   
   <div class="warning"><strong class="warning">Warning</strong>
    <p class="simpara">
     Old style constructors are <em class="emphasis">DEPRECATED</em> in PHP 7.0, and
     will be removed in a future version. You should always use
     <a href="language.oop5.decon.html#object.construct" class="link">__construct()</a> in new code.
    </p>
   </div>
   <p class="para">
    Unlike with other methods, PHP will not generate an
    <strong><code>E_STRICT</code></strong> level error message when
    <a href="language.oop5.decon.html#object.construct" class="link">__construct()</a> is overridden with different parameters
    than the parent <a href="language.oop5.decon.html#object.construct" class="link">__construct()</a> method has.
   </p>
   <p class="para">
    As of PHP 5.3.3, methods with the same name as the last element of a
    namespaced class name will no longer be treated as constructor. This
    change doesn&apos;t affect non-namespaced classes.
   </p>
   <div class="example" id="example-192">
    <p><strong>Example #2 Constructors in namespaced classes</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #007700">namespace&#xA0;</span><span style="color: #0000BB">Foo</span><span style="color: #007700">;<br>class&#xA0;</span><span style="color: #0000BB">Bar&#xA0;</span><span style="color: #007700">{<br>&#xA0;&#xA0;&#xA0;&#xA0;public&#xA0;function&#xA0;</span><span style="color: #0000BB">Bar</span><span style="color: #007700">()&#xA0;{<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #FF8000">//&#xA0;treated&#xA0;as&#xA0;constructor&#xA0;in&#xA0;PHP&#xA0;5.3.0-5.3.2<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;//&#xA0;treated&#xA0;as&#xA0;regular&#xA0;method&#xA0;as&#xA0;of&#xA0;PHP&#xA0;5.3.3<br>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #007700">}<br>}<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </div>

  <div class="sect2" id="language.oop5.decon.destructor">
   <h3 class="title">Destructor</h3>
   <div class="methodsynopsis dc-description" id="object.destruct">
    <span class="type"><span class="type void">void</span></span> <span class="methodname"><strong>__destruct</strong></span>
     ( <span class="methodparam">void</span>
    )</div>

   <p class="para">
    PHP 5 introduces a destructor concept similar to that of other
    object-oriented languages, such as C++. The destructor method will be
    called as soon as there are no other references to a particular object,
    or in any order during the shutdown sequence.
   </p>
   <div class="example" id="example-193">
    <p><strong>Example #3 Destructor Example</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #007700">class&#xA0;</span><span style="color: #0000BB">MyDestructableClass&#xA0;</span><span style="color: #007700">{<br>&#xA0;&#xA0;&#xA0;function&#xA0;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">()&#xA0;{<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;print&#xA0;</span><span style="color: #DD0000">&quot;In&#xA0;constructor\n&quot;</span><span style="color: #007700">;<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">name&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #DD0000">&quot;MyDestructableClass&quot;</span><span style="color: #007700">;<br>&#xA0;&#xA0;&#xA0;}<br><br>&#xA0;&#xA0;&#xA0;function&#xA0;</span><span style="color: #0000BB">__destruct</span><span style="color: #007700">()&#xA0;{<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;print&#xA0;</span><span style="color: #DD0000">&quot;Destroying&#xA0;&quot;&#xA0;</span><span style="color: #007700">.&#xA0;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">name&#xA0;</span><span style="color: #007700">.&#xA0;</span><span style="color: #DD0000">&quot;\n&quot;</span><span style="color: #007700">;<br>&#xA0;&#xA0;&#xA0;}<br>}<br><br></span><span style="color: #0000BB">$obj&#xA0;</span><span style="color: #007700">=&#xA0;new&#xA0;</span><span style="color: #0000BB">MyDestructableClass</span><span style="color: #007700">();<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
   <p class="para">
    Like constructors, parent destructors will not be called implicitly by
    the engine. In order to run a parent destructor, one would have to
    explicitly call <span class="function"><strong>parent::__destruct()</strong></span> in the destructor
    body. Also like constructors, a child class may inherit the parent&apos;s
    destructor if it does not implement one itself.
   </p>
   <p class="para">
    The destructor will be called even if script execution is stopped using
    <span class="function"><a href="function.exit.html" class="function">exit()</a></span>. Calling <span class="function"><a href="function.exit.html" class="function">exit()</a></span> in a destructor
    will prevent the remaining shutdown routines from executing.
   </p>
   <blockquote class="note"><p><strong class="note">Note</strong>: 
    </p><p class="para">
     Destructors called during the script shutdown have HTTP headers already
     sent. The working directory in the script shutdown phase can be different
     with some SAPIs (e.g. Apache).
    </p>
   <p></p></blockquote>
   <blockquote class="note"><p><strong class="note">Note</strong>: 
    </p><p class="para">
     Attempting to throw an exception from a destructor (called in the time of
     script termination) causes a fatal error.
    </p>
   <p></p></blockquote>
  </div>

 