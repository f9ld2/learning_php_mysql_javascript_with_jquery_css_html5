---
layout: default
---

 <div class="refnamediv">
  <h1 class="refname">Imagick::deskewImage</h1>
  <p class="verinfo">(No version information available, might only be in Git)</p><p class="refpurpose"><span class="refname">Imagick::deskewImage</span> &#x2014; <span class="dc-title">Removes skew from the image</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-imagick.deskewimage-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">bool</span> <span class="methodname"><strong>Imagick::deskewImage</strong></span>
    ( <span class="methodparam"><span class="type">float</span> <code class="parameter">$threshold</code></span>
   )</div>

  <p class="para rdfs-comment">
   This method can be used to remove skew from for example scanned images where the paper
   was not properly placed on the scanning surface. This method is available if Imagick has been compiled against ImageMagick version 6.4.5 or newer.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-imagick.deskewimage-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">threshold</code></dt>

     <dd>

      <p class="para">
       Deskew threshold
      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-imagick.deskewimage-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">

  </p>
 </div>



 <div class="refsect1 examples" id="refsect1-imagick.deskewimage-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
    <div class="example" id="example-3661">
      <p><strong>Example #1  <span class="function"><strong>Imagick::deskewImage()</strong></span></strong></p>
      <div class="example-contents">
      <div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #007700">function&#xA0;</span><span style="color: #0000BB">deskewImage</span><span style="color: #007700">(</span><span style="color: #0000BB">$threshold</span><span style="color: #007700">)&#xA0;{<br>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #0000BB">$imagick&#xA0;</span><span style="color: #007700">=&#xA0;new&#xA0;\</span><span style="color: #0000BB">Imagick</span><span style="color: #007700">(</span><span style="color: #0000BB">realpath</span><span style="color: #007700">(</span><span style="color: #DD0000">&quot;images/NYTimes-Page1-11-11-1918.jpg&quot;</span><span style="color: #007700">));<br>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #0000BB">$deskewImagick&#xA0;</span><span style="color: #007700">=&#xA0;clone&#xA0;</span><span style="color: #0000BB">$imagick</span><span style="color: #007700">;<br>&#xA0;&#xA0;&#xA0;&#xA0;<br>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #FF8000">//This&#xA0;is&#xA0;the&#xA0;only&#xA0;thing&#xA0;required&#xA0;for&#xA0;deskewing.<br>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #0000BB">$deskewImagick</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">deskewImage</span><span style="color: #007700">(</span><span style="color: #0000BB">$threshold</span><span style="color: #007700">);<br><br>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #FF8000">//The&#xA0;rest&#xA0;of&#xA0;this&#xA0;example&#xA0;is&#xA0;to&#xA0;make&#xA0;the&#xA0;result&#xA0;obvious&#xA0;-&#xA0;because<br>&#xA0;&#xA0;&#xA0;&#xA0;//otherwise&#xA0;the&#xA0;result&#xA0;is&#xA0;not&#xA0;obvious.<br>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #0000BB">$trim&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">9</span><span style="color: #007700">;<br><br>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #0000BB">$deskewImagick</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">cropImage</span><span style="color: #007700">(</span><span style="color: #0000BB">$deskewImagick</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getImageWidth</span><span style="color: #007700">()&#xA0;-&#xA0;</span><span style="color: #0000BB">$trim</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">$deskewImagick</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getImageHeight</span><span style="color: #007700">(),&#xA0;</span><span style="color: #0000BB">$trim</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #0000BB">$imagick</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">cropImage</span><span style="color: #007700">(</span><span style="color: #0000BB">$imagick</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getImageWidth</span><span style="color: #007700">()&#xA0;-&#xA0;</span><span style="color: #0000BB">$trim</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">$imagick</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getImageHeight</span><span style="color: #007700">(),&#xA0;</span><span style="color: #0000BB">$trim</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #0000BB">$deskewImagick</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">resizeimage</span><span style="color: #007700">(</span><span style="color: #0000BB">$deskewImagick</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getImageWidth</span><span style="color: #007700">()&#xA0;/&#xA0;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">$deskewImagick</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getImageHeight</span><span style="color: #007700">()&#xA0;/&#xA0;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&#xA0;\</span><span style="color: #0000BB">Imagick</span><span style="color: #007700">::</span><span style="color: #0000BB">FILTER_LANCZOS</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #0000BB">$imagick</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">resizeimage</span><span style="color: #007700">(</span><span style="color: #0000BB">$imagick</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getImageWidth</span><span style="color: #007700">()&#xA0;/&#xA0;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">$imagick</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getImageHeight</span><span style="color: #007700">()&#xA0;/&#xA0;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&#xA0;\</span><span style="color: #0000BB">Imagick</span><span style="color: #007700">::</span><span style="color: #0000BB">FILTER_LANCZOS</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #0000BB">$newCanvas&#xA0;</span><span style="color: #007700">=&#xA0;new&#xA0;\</span><span style="color: #0000BB">Imagick</span><span style="color: #007700">();<br>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #0000BB">$newCanvas</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">newimage</span><span style="color: #007700">(</span><span style="color: #0000BB">$imagick</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getImageWidth</span><span style="color: #007700">()&#xA0;+&#xA0;</span><span style="color: #0000BB">$deskewImagick</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getImageWidth</span><span style="color: #007700">()&#xA0;+&#xA0;</span><span style="color: #0000BB">20</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">$imagick</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getImageHeight</span><span style="color: #007700">(),&#xA0;</span><span style="color: #DD0000">&apos;red&apos;</span><span style="color: #007700">,&#xA0;</span><span style="color: #DD0000">&apos;jpg&apos;</span><span style="color: #007700">);<br>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #0000BB">$newCanvas</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">compositeimage</span><span style="color: #007700">(</span><span style="color: #0000BB">$imagick</span><span style="color: #007700">,&#xA0;\</span><span style="color: #0000BB">Imagick</span><span style="color: #007700">::</span><span style="color: #0000BB">COMPOSITE_COPY</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">5</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #0000BB">$newCanvas</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">compositeimage</span><span style="color: #007700">(</span><span style="color: #0000BB">$deskewImagick</span><span style="color: #007700">,&#xA0;\</span><span style="color: #0000BB">Imagick</span><span style="color: #007700">::</span><span style="color: #0000BB">COMPOSITE_COPY</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">$imagick</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getImageWidth</span><span style="color: #007700">()&#xA0;+&#xA0;</span><span style="color: #0000BB">10</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br><br>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">&quot;Content-Type:&#xA0;image/jpg&quot;</span><span style="color: #007700">);<br>&#xA0;&#xA0;&#xA0;&#xA0;echo&#xA0;</span><span style="color: #0000BB">$newCanvas</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getImageBlob</span><span style="color: #007700">();<br>}<br><br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
      </div>

    </div>
  </p>
 </div>


