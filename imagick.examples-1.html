---
layout: default
---

  <h2 class="title">Basic usage</h2>
  <p class="para">
   Imagick makes image manipulation in PHP extremely easy through an OO
   interface. Here is a quick example on how to make a thumbnail:
   <div class="example" id="example-3628">
    <p><strong>Example #1 Creating a thumbnail in Imagick</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br><br>header</span><span style="color: #007700">(</span><span style="color: #DD0000">&apos;Content-type:&#xA0;image/jpeg&apos;</span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">$image&#xA0;</span><span style="color: #007700">=&#xA0;new&#xA0;</span><span style="color: #0000BB">Imagick</span><span style="color: #007700">(</span><span style="color: #DD0000">&apos;image.jpg&apos;</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">//&#xA0;If&#xA0;0&#xA0;is&#xA0;provided&#xA0;as&#xA0;a&#xA0;width&#xA0;or&#xA0;height&#xA0;parameter,<br>//&#xA0;aspect&#xA0;ratio&#xA0;is&#xA0;maintained<br></span><span style="color: #0000BB">$image</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">thumbnailImage</span><span style="color: #007700">(</span><span style="color: #0000BB">100</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br><br>echo&#xA0;</span><span style="color: #0000BB">$image</span><span style="color: #007700">;<br><br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>

  <p class="para">
   Using SPL and other OO features supported in Imagick, it can be simple
   to resize all files in a directory (useful for batch resizing large
   digital camera images to be web viewable). Here we use resize, as we might
   want to retain certain meta-data:
   <div class="example" id="example-3629">
    <p><strong>Example #2 Make a thumbnail of all JPG files in a directory</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br><br>$images&#xA0;</span><span style="color: #007700">=&#xA0;new&#xA0;</span><span style="color: #0000BB">Imagick</span><span style="color: #007700">(</span><span style="color: #0000BB">glob</span><span style="color: #007700">(</span><span style="color: #DD0000">&apos;images/*.JPG&apos;</span><span style="color: #007700">));<br><br>foreach(</span><span style="color: #0000BB">$images&#xA0;</span><span style="color: #007700">as&#xA0;</span><span style="color: #0000BB">$image</span><span style="color: #007700">)&#xA0;{<br><br>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #FF8000">//&#xA0;Providing&#xA0;0&#xA0;forces&#xA0;thumbnailImage&#xA0;to&#xA0;maintain&#xA0;aspect&#xA0;ratio<br>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #0000BB">$image</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">thumbnailImage</span><span style="color: #007700">(</span><span style="color: #0000BB">1024</span><span style="color: #007700">,</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br><br>}<br><br></span><span style="color: #0000BB">$images</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">writeImages</span><span style="color: #007700">();<br><br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
  <p class="para">
   This is an example of creating a reflection of an image.
   The reflection is created by flipping the image and overlaying a gradient on it.
   Then both, the original image and the reflection is overlayed on a canvas.
   <div class="example" id="example-3630">
    <p><strong>Example #3 Creating a reflection of an image</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">/*&#xA0;Read&#xA0;the&#xA0;image&#xA0;*/<br></span><span style="color: #0000BB">$im&#xA0;</span><span style="color: #007700">=&#xA0;new&#xA0;</span><span style="color: #0000BB">Imagick</span><span style="color: #007700">(</span><span style="color: #DD0000">&quot;test.png&quot;</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&#xA0;Thumbnail&#xA0;the&#xA0;image&#xA0;*/<br></span><span style="color: #0000BB">$im</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">thumbnailImage</span><span style="color: #007700">(</span><span style="color: #0000BB">200</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">null</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&#xA0;Create&#xA0;a&#xA0;border&#xA0;for&#xA0;the&#xA0;image&#xA0;*/<br></span><span style="color: #0000BB">$im</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">borderImage</span><span style="color: #007700">(new&#xA0;</span><span style="color: #0000BB">ImagickPixel</span><span style="color: #007700">(</span><span style="color: #DD0000">&quot;white&quot;</span><span style="color: #007700">),&#xA0;</span><span style="color: #0000BB">5</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">5</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&#xA0;Clone&#xA0;the&#xA0;image&#xA0;and&#xA0;flip&#xA0;it&#xA0;*/<br></span><span style="color: #0000BB">$reflection&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">$im</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">clone</span><span style="color: #007700">();<br></span><span style="color: #0000BB">$reflection</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">flipImage</span><span style="color: #007700">();<br><br></span><span style="color: #FF8000">/*&#xA0;Create&#xA0;gradient.&#xA0;It&#xA0;will&#xA0;be&#xA0;overlayed&#xA0;on&#xA0;the&#xA0;reflection&#xA0;*/<br></span><span style="color: #0000BB">$gradient&#xA0;</span><span style="color: #007700">=&#xA0;new&#xA0;</span><span style="color: #0000BB">Imagick</span><span style="color: #007700">();<br><br></span><span style="color: #FF8000">/*&#xA0;Gradient&#xA0;needs&#xA0;to&#xA0;be&#xA0;large&#xA0;enough&#xA0;for&#xA0;the&#xA0;image&#xA0;and&#xA0;the&#xA0;borders&#xA0;*/<br></span><span style="color: #0000BB">$gradient</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">newPseudoImage</span><span style="color: #007700">(</span><span style="color: #0000BB">$reflection</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getImageWidth</span><span style="color: #007700">()&#xA0;+&#xA0;</span><span style="color: #0000BB">10</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">$reflection</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getImageHeight</span><span style="color: #007700">()&#xA0;+&#xA0;</span><span style="color: #0000BB">10</span><span style="color: #007700">,&#xA0;</span><span style="color: #DD0000">&quot;gradient:transparent-black&quot;</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&#xA0;Composite&#xA0;the&#xA0;gradient&#xA0;on&#xA0;the&#xA0;reflection&#xA0;*/<br></span><span style="color: #0000BB">$reflection</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">compositeImage</span><span style="color: #007700">(</span><span style="color: #0000BB">$gradient</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">imagick</span><span style="color: #007700">::</span><span style="color: #0000BB">COMPOSITE_OVER</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&#xA0;Add&#xA0;some&#xA0;opacity.&#xA0;Requires&#xA0;ImageMagick&#xA0;6.2.9&#xA0;or&#xA0;later&#xA0;*/<br></span><span style="color: #0000BB">$reflection</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setImageOpacity</span><span style="color: #007700">(&#xA0;</span><span style="color: #0000BB">0.3&#xA0;</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&#xA0;Create&#xA0;an&#xA0;empty&#xA0;canvas&#xA0;*/<br></span><span style="color: #0000BB">$canvas&#xA0;</span><span style="color: #007700">=&#xA0;new&#xA0;</span><span style="color: #0000BB">Imagick</span><span style="color: #007700">();<br><br></span><span style="color: #FF8000">/*&#xA0;Canvas&#xA0;needs&#xA0;to&#xA0;be&#xA0;large&#xA0;enough&#xA0;to&#xA0;hold&#xA0;the&#xA0;both&#xA0;images&#xA0;*/<br></span><span style="color: #0000BB">$width&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">$im</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getImageWidth</span><span style="color: #007700">()&#xA0;+&#xA0;</span><span style="color: #0000BB">40</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$height&#xA0;</span><span style="color: #007700">=&#xA0;(</span><span style="color: #0000BB">$im</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getImageHeight</span><span style="color: #007700">()&#xA0;*&#xA0;</span><span style="color: #0000BB">2</span><span style="color: #007700">)&#xA0;+&#xA0;</span><span style="color: #0000BB">30</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">newImage</span><span style="color: #007700">(</span><span style="color: #0000BB">$width</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">$height</span><span style="color: #007700">,&#xA0;new&#xA0;</span><span style="color: #0000BB">ImagickPixel</span><span style="color: #007700">(</span><span style="color: #DD0000">&quot;black&quot;</span><span style="color: #007700">));<br></span><span style="color: #0000BB">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setImageFormat</span><span style="color: #007700">(</span><span style="color: #DD0000">&quot;png&quot;</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&#xA0;Composite&#xA0;the&#xA0;original&#xA0;image&#xA0;and&#xA0;the&#xA0;reflection&#xA0;on&#xA0;the&#xA0;canvas&#xA0;*/<br></span><span style="color: #0000BB">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">compositeImage</span><span style="color: #007700">(</span><span style="color: #0000BB">$im</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">imagick</span><span style="color: #007700">::</span><span style="color: #0000BB">COMPOSITE_OVER</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">20</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">10</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">compositeImage</span><span style="color: #007700">(</span><span style="color: #0000BB">$reflection</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">imagick</span><span style="color: #007700">::</span><span style="color: #0000BB">COMPOSITE_OVER</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">20</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">$im</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getImageHeight</span><span style="color: #007700">()&#xA0;+&#xA0;</span><span style="color: #0000BB">10</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&#xA0;Output&#xA0;the&#xA0;image*/<br></span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">&quot;Content-Type:&#xA0;image/png&quot;</span><span style="color: #007700">);<br>echo&#xA0;</span><span style="color: #0000BB">$canvas</span><span style="color: #007700">;<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>The above example will output
something similar to:</p></div>
    <div class="mediaobject">
     
     <div class="imageobject">
      <img src="images/c0d23d2d6769e53e24a1b3136c064577-hello_world_reflection.png" alt="Output of example : Creating a reflection of an image" width="250" height="130">
     </div>
    </div>
   </div>
  </p>
  <p class="para">
   This example illustrates how to use fill patterns during drawing.
   <div class="example" id="example-3631">
    <p><strong>Example #4 Filling text with gradient</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br><br></span><span style="color: #FF8000">/*&#xA0;Create&#xA0;a&#xA0;new&#xA0;imagick&#xA0;object&#xA0;*/<br></span><span style="color: #0000BB">$im&#xA0;</span><span style="color: #007700">=&#xA0;new&#xA0;</span><span style="color: #0000BB">Imagick</span><span style="color: #007700">();<br><br></span><span style="color: #FF8000">/*&#xA0;Create&#xA0;new&#xA0;image.&#xA0;This&#xA0;will&#xA0;be&#xA0;used&#xA0;as&#xA0;fill&#xA0;pattern&#xA0;*/<br></span><span style="color: #0000BB">$im</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">newPseudoImage</span><span style="color: #007700">(</span><span style="color: #0000BB">50</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">50</span><span style="color: #007700">,&#xA0;</span><span style="color: #DD0000">&quot;gradient:red-black&quot;</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&#xA0;Create&#xA0;imagickdraw&#xA0;object&#xA0;*/<br></span><span style="color: #0000BB">$draw&#xA0;</span><span style="color: #007700">=&#xA0;new&#xA0;</span><span style="color: #0000BB">ImagickDraw</span><span style="color: #007700">();<br><br></span><span style="color: #FF8000">/*&#xA0;Start&#xA0;a&#xA0;new&#xA0;pattern&#xA0;called&#xA0;&quot;gradient&quot;&#xA0;*/<br></span><span style="color: #0000BB">$draw</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">pushPattern</span><span style="color: #007700">(</span><span style="color: #DD0000">&apos;gradient&apos;</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">50</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">50</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&#xA0;Composite&#xA0;the&#xA0;gradient&#xA0;on&#xA0;the&#xA0;pattern&#xA0;*/<br></span><span style="color: #0000BB">$draw</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">composite</span><span style="color: #007700">(</span><span style="color: #0000BB">Imagick</span><span style="color: #007700">::</span><span style="color: #0000BB">COMPOSITE_OVER</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">50</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">50</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">$im</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&#xA0;Close&#xA0;the&#xA0;pattern&#xA0;*/<br></span><span style="color: #0000BB">$draw</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">popPattern</span><span style="color: #007700">();<br><br></span><span style="color: #FF8000">/*&#xA0;Use&#xA0;the&#xA0;pattern&#xA0;called&#xA0;&quot;gradient&quot;&#xA0;as&#xA0;the&#xA0;fill&#xA0;*/<br></span><span style="color: #0000BB">$draw</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setFillPatternURL</span><span style="color: #007700">(</span><span style="color: #DD0000">&apos;#gradient&apos;</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&#xA0;Set&#xA0;font&#xA0;size&#xA0;to&#xA0;52&#xA0;*/<br></span><span style="color: #0000BB">$draw</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setFontSize</span><span style="color: #007700">(</span><span style="color: #0000BB">52</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&#xA0;Annotate&#xA0;some&#xA0;text&#xA0;*/<br></span><span style="color: #0000BB">$draw</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">annotation</span><span style="color: #007700">(</span><span style="color: #0000BB">20</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">50</span><span style="color: #007700">,&#xA0;</span><span style="color: #DD0000">&quot;Hello&#xA0;World!&quot;</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&#xA0;Create&#xA0;a&#xA0;new&#xA0;canvas&#xA0;object&#xA0;and&#xA0;a&#xA0;white&#xA0;image&#xA0;*/<br></span><span style="color: #0000BB">$canvas&#xA0;</span><span style="color: #007700">=&#xA0;new&#xA0;</span><span style="color: #0000BB">Imagick</span><span style="color: #007700">();<br></span><span style="color: #0000BB">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">newImage</span><span style="color: #007700">(</span><span style="color: #0000BB">350</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">70</span><span style="color: #007700">,&#xA0;</span><span style="color: #DD0000">&quot;white&quot;</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&#xA0;Draw&#xA0;the&#xA0;ImagickDraw&#xA0;on&#xA0;to&#xA0;the&#xA0;canvas&#xA0;*/<br></span><span style="color: #0000BB">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">drawImage</span><span style="color: #007700">(</span><span style="color: #0000BB">$draw</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&#xA0;1px&#xA0;black&#xA0;border&#xA0;around&#xA0;the&#xA0;image&#xA0;*/<br></span><span style="color: #0000BB">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">borderImage</span><span style="color: #007700">(</span><span style="color: #DD0000">&apos;black&apos;</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&#xA0;Set&#xA0;the&#xA0;format&#xA0;to&#xA0;PNG&#xA0;*/<br></span><span style="color: #0000BB">$canvas</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setImageFormat</span><span style="color: #007700">(</span><span style="color: #DD0000">&apos;png&apos;</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&#xA0;Output&#xA0;the&#xA0;image&#xA0;*/<br></span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">&quot;Content-Type:&#xA0;image/png&quot;</span><span style="color: #007700">);<br>echo&#xA0;</span><span style="color: #0000BB">$canvas</span><span style="color: #007700">;<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>The above example will output
something similar to:</p></div>
    <div class="mediaobject">
     
     <div class="imageobject">
      <img src="images/c0d23d2d6769e53e24a1b3136c064577-hello_world.png" alt="Output of example : Filling text with gradient" width="352" height="72">
     </div>
    </div>
   </div>
  </p>
  <p class="para">
   Working with animated GIF images
   <div class="example" id="example-3632">
    <p><strong>Example #5 Read in GIF image and resize all frames</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br><br></span><span style="color: #FF8000">/*&#xA0;Create&#xA0;a&#xA0;new&#xA0;imagick&#xA0;object&#xA0;and&#xA0;read&#xA0;in&#xA0;GIF&#xA0;*/<br></span><span style="color: #0000BB">$im&#xA0;</span><span style="color: #007700">=&#xA0;new&#xA0;</span><span style="color: #0000BB">Imagick</span><span style="color: #007700">(</span><span style="color: #DD0000">&quot;example.gif&quot;</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&#xA0;Resize&#xA0;all&#xA0;frames&#xA0;*/<br></span><span style="color: #007700">foreach&#xA0;(</span><span style="color: #0000BB">$im&#xA0;</span><span style="color: #007700">as&#xA0;</span><span style="color: #0000BB">$frame</span><span style="color: #007700">)&#xA0;{<br>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #FF8000">/*&#xA0;50x50&#xA0;frames&#xA0;*/<br>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #0000BB">$frame</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">thumbnailImage</span><span style="color: #007700">(</span><span style="color: #0000BB">50</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">50</span><span style="color: #007700">);<br><br>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #FF8000">/*&#xA0;Set&#xA0;the&#xA0;virtual&#xA0;canvas&#xA0;to&#xA0;correct&#xA0;size&#xA0;*/<br>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #0000BB">$frame</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setImagePage</span><span style="color: #007700">(</span><span style="color: #0000BB">50</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">50</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br>}<br><br></span><span style="color: #FF8000">/*&#xA0;Notice&#xA0;writeImages&#xA0;instead&#xA0;of&#xA0;writeImage&#xA0;*/<br></span><span style="color: #0000BB">$im</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">writeImages</span><span style="color: #007700">(</span><span style="color: #DD0000">&quot;example_small.gif&quot;</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">true</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
  <p class="para">
   Working with ellipse primitive and custom fonts
   <div class="example" id="example-3633">
    <p><strong>Example #6 Create a PHP logo</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">/*&#xA0;Set&#xA0;width&#xA0;and&#xA0;height&#xA0;in&#xA0;proportion&#xA0;of&#xA0;genuine&#xA0;PHP&#xA0;logo&#xA0;*/<br></span><span style="color: #0000BB">$width&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">400</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$height&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">210</span><span style="color: #007700">;<br><br></span><span style="color: #FF8000">/*&#xA0;Create&#xA0;an&#xA0;Imagick&#xA0;object&#xA0;with&#xA0;transparent&#xA0;canvas&#xA0;*/<br></span><span style="color: #0000BB">$img&#xA0;</span><span style="color: #007700">=&#xA0;new&#xA0;</span><span style="color: #0000BB">Imagick</span><span style="color: #007700">();<br></span><span style="color: #0000BB">$img</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">newImage</span><span style="color: #007700">(</span><span style="color: #0000BB">$width</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">$height</span><span style="color: #007700">,&#xA0;new&#xA0;</span><span style="color: #0000BB">ImagickPixel</span><span style="color: #007700">(</span><span style="color: #DD0000">&apos;transparent&apos;</span><span style="color: #007700">));<br><br></span><span style="color: #FF8000">/*&#xA0;New&#xA0;ImagickDraw&#xA0;instance&#xA0;for&#xA0;ellipse&#xA0;draw&#xA0;*/<br></span><span style="color: #0000BB">$draw&#xA0;</span><span style="color: #007700">=&#xA0;new&#xA0;</span><span style="color: #0000BB">ImagickDraw</span><span style="color: #007700">();<br></span><span style="color: #FF8000">/*&#xA0;Set&#xA0;purple&#xA0;fill&#xA0;color&#xA0;for&#xA0;ellipse&#xA0;*/<br></span><span style="color: #0000BB">$draw</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setFillColor</span><span style="color: #007700">(</span><span style="color: #DD0000">&apos;#777bb4&apos;</span><span style="color: #007700">);<br></span><span style="color: #FF8000">/*&#xA0;Set&#xA0;ellipse&#xA0;dimensions&#xA0;*/<br></span><span style="color: #0000BB">$draw</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">ellipse</span><span style="color: #007700">(</span><span style="color: #0000BB">$width&#xA0;</span><span style="color: #007700">/&#xA0;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">$height&#xA0;</span><span style="color: #007700">/&#xA0;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">$width&#xA0;</span><span style="color: #007700">/&#xA0;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">$height&#xA0;</span><span style="color: #007700">/&#xA0;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">360</span><span style="color: #007700">);<br></span><span style="color: #FF8000">/*&#xA0;Draw&#xA0;ellipse&#xA0;onto&#xA0;the&#xA0;canvas&#xA0;*/<br></span><span style="color: #0000BB">$img</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">drawImage</span><span style="color: #007700">(</span><span style="color: #0000BB">$draw</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&#xA0;Reset&#xA0;fill&#xA0;color&#xA0;from&#xA0;purple&#xA0;to&#xA0;black&#xA0;for&#xA0;text&#xA0;(note:&#xA0;we&#xA0;are&#xA0;reusing&#xA0;ImagickDraw&#xA0;object)&#xA0;*/<br></span><span style="color: #0000BB">$draw</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setFillColor</span><span style="color: #007700">(</span><span style="color: #DD0000">&apos;black&apos;</span><span style="color: #007700">);<br></span><span style="color: #FF8000">/*&#xA0;Set&#xA0;stroke&#xA0;border&#xA0;to&#xA0;white&#xA0;color&#xA0;*/<br></span><span style="color: #0000BB">$draw</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setStrokeColor</span><span style="color: #007700">(</span><span style="color: #DD0000">&apos;white&apos;</span><span style="color: #007700">);<br></span><span style="color: #FF8000">/*&#xA0;Set&#xA0;stroke&#xA0;border&#xA0;thickness&#xA0;*/<br></span><span style="color: #0000BB">$draw</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setStrokeWidth</span><span style="color: #007700">(</span><span style="color: #0000BB">2</span><span style="color: #007700">);<br></span><span style="color: #FF8000">/*&#xA0;Set&#xA0;font&#xA0;kerning&#xA0;(negative&#xA0;value&#xA0;means&#xA0;that&#xA0;letters&#xA0;are&#xA0;closer&#xA0;to&#xA0;each&#xA0;other)&#xA0;*/<br></span><span style="color: #0000BB">$draw</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setTextKerning</span><span style="color: #007700">(-</span><span style="color: #0000BB">8</span><span style="color: #007700">);<br></span><span style="color: #FF8000">/*&#xA0;Set&#xA0;font&#xA0;and&#xA0;font&#xA0;size&#xA0;used&#xA0;in&#xA0;PHP&#xA0;logo&#xA0;*/<br></span><span style="color: #0000BB">$draw</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setFont</span><span style="color: #007700">(</span><span style="color: #DD0000">&apos;Handel&#xA0;Gothic.ttf&apos;</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$draw</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setFontSize</span><span style="color: #007700">(</span><span style="color: #0000BB">150</span><span style="color: #007700">);<br></span><span style="color: #FF8000">/*&#xA0;Center&#xA0;text&#xA0;horizontally&#xA0;and&#xA0;vertically&#xA0;*/<br></span><span style="color: #0000BB">$draw</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setGravity</span><span style="color: #007700">(</span><span style="color: #0000BB">Imagick</span><span style="color: #007700">::</span><span style="color: #0000BB">GRAVITY_CENTER</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&#xA0;Add&#xA0;center&#xA0;&quot;php&quot;&#xA0;with&#xA0;Y&#xA0;offset&#xA0;of&#xA0;-10&#xA0;to&#xA0;canvas&#xA0;(inside&#xA0;ellipse)&#xA0;*/<br></span><span style="color: #0000BB">$img</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">annotateImage</span><span style="color: #007700">(</span><span style="color: #0000BB">$draw</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&#xA0;-</span><span style="color: #0000BB">10</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&#xA0;</span><span style="color: #DD0000">&apos;php&apos;</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$img</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setImageFormat</span><span style="color: #007700">(</span><span style="color: #DD0000">&apos;png&apos;</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&#xA0;Set&#xA0;appropriate&#xA0;header&#xA0;for&#xA0;PNG&#xA0;and&#xA0;output&#xA0;the&#xA0;image&#xA0;*/<br></span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">&apos;Content-Type:&#xA0;image/png&apos;</span><span style="color: #007700">);<br>echo&#xA0;</span><span style="color: #0000BB">$img</span><span style="color: #007700">;<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>The above example will output
something similar to:</p></div>
    <div class="mediaobject">
     
     <div class="imageobject">
      <img src="images/c0d23d2d6769e53e24a1b3136c064577-php_logo.png" alt="Output of example : Creating PHP logo with Imagick" width="300" height="180">
     </div>
    </div>
   </div>
  </p>
 