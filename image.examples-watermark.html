---
layout: default
---

  <h2 class="title">Adding watermarks to images using alpha channels</h2>
  <p class="para">
   <div class="example" id="example-3485">
    <p><strong>Example #1 Adding watermarks to images using alpha channels</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">//&#xA0;Load&#xA0;the&#xA0;stamp&#xA0;and&#xA0;the&#xA0;photo&#xA0;to&#xA0;apply&#xA0;the&#xA0;watermark&#xA0;to<br></span><span style="color: #0000BB">$stamp&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">imagecreatefrompng</span><span style="color: #007700">(</span><span style="color: #DD0000">&apos;stamp.png&apos;</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$im&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">imagecreatefromjpeg</span><span style="color: #007700">(</span><span style="color: #DD0000">&apos;photo.jpeg&apos;</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">//&#xA0;Set&#xA0;the&#xA0;margins&#xA0;for&#xA0;the&#xA0;stamp&#xA0;and&#xA0;get&#xA0;the&#xA0;height/width&#xA0;of&#xA0;the&#xA0;stamp&#xA0;image<br></span><span style="color: #0000BB">$marge_right&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">10</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$marge_bottom&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">10</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$sx&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">imagesx</span><span style="color: #007700">(</span><span style="color: #0000BB">$stamp</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$sy&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">imagesy</span><span style="color: #007700">(</span><span style="color: #0000BB">$stamp</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">//&#xA0;Copy&#xA0;the&#xA0;stamp&#xA0;image&#xA0;onto&#xA0;our&#xA0;photo&#xA0;using&#xA0;the&#xA0;margin&#xA0;offsets&#xA0;and&#xA0;the&#xA0;photo&#xA0;<br>//&#xA0;width&#xA0;to&#xA0;calculate&#xA0;positioning&#xA0;of&#xA0;the&#xA0;stamp.&#xA0;<br></span><span style="color: #0000BB">imagecopy</span><span style="color: #007700">(</span><span style="color: #0000BB">$im</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">$stamp</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">imagesx</span><span style="color: #007700">(</span><span style="color: #0000BB">$im</span><span style="color: #007700">)&#xA0;-&#xA0;</span><span style="color: #0000BB">$sx&#xA0;</span><span style="color: #007700">-&#xA0;</span><span style="color: #0000BB">$marge_right</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">imagesy</span><span style="color: #007700">(</span><span style="color: #0000BB">$im</span><span style="color: #007700">)&#xA0;-&#xA0;</span><span style="color: #0000BB">$sy&#xA0;</span><span style="color: #007700">-&#xA0;</span><span style="color: #0000BB">$marge_bottom</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">imagesx</span><span style="color: #007700">(</span><span style="color: #0000BB">$stamp</span><span style="color: #007700">),&#xA0;</span><span style="color: #0000BB">imagesy</span><span style="color: #007700">(</span><span style="color: #0000BB">$stamp</span><span style="color: #007700">));<br><br></span><span style="color: #FF8000">//&#xA0;Output&#xA0;and&#xA0;free&#xA0;memory<br></span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">&apos;Content-type:&#xA0;image/png&apos;</span><span style="color: #007700">);<br></span><span style="color: #0000BB">imagepng</span><span style="color: #007700">(</span><span style="color: #0000BB">$im</span><span style="color: #007700">);<br></span><span style="color: #0000BB">imagedestroy</span><span style="color: #007700">(</span><span style="color: #0000BB">$im</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="mediaobject">
     
     <div class="imageobject">
      <img src="images/21009b70229598c6a80eef8b45bf282b-watermarks.png" alt="Adding watermarks to images using alpha channels" width="320" height="240">
     </div>
    </div>
   </div>
   This example is a common way to add watermarks and stamps to photos and 
   copyrighted images. Note that the presence of an alpha channel in the 
   stamp image as the text is anti-aliased. This is preserved during copying.
  </p>
 