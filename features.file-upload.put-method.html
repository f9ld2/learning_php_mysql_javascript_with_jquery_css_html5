---
layout: default
---

   <h2 class="title">PUT method support</h2>
   <p class="para">
    PHP provides support for the HTTP PUT method used by some clients to store
    files on a server.
    PUT requests are much simpler than a file upload using POST requests
    and they look something like this:
    <div class="informalexample">
     <div class="example-contents">
<div class="HTTPcode"><pre class="HTTPcode">PUT /path/filename.html HTTP/1.1</pre>
</div>
     </div>

    </div>
   </p>
   <p class="para">
    This would normally mean that the remote client would like to save
    the content that follows as: <var class="filename">/path/filename.html</var> in your web tree.
    It is obviously not a good idea for Apache or PHP to automatically
    let everybody overwrite any files in your web tree.  So, to handle
    such a request you have to first tell your web server that you
    want a certain PHP script to handle the request.  In Apache you do
    this with the <em class="emphasis">Script</em> directive.  It can be
    placed almost anywhere in your Apache configuration file.  A
    common place is inside a <em>&lt;Directory&gt;</em> block or perhaps inside
    a <em>&lt;VirtualHost&gt;</em> block.  A line like this would do the trick:
    <div class="informalexample">
     <div class="example-contents">
<div class="cdata"><pre>
Script PUT /put.php
</pre></div>
     </div>

    </div>
   </p>
   <p class="simpara">
    This tells Apache to send all PUT requests for URIs that match the
    context in which you put this line to the <var class="filename">put.php</var> script. This
    assumes, of course, that you have PHP enabled for the <var class="filename">.php</var>
    extension and PHP is active. The destination resource for all PUT 
    requests to this script has to be the script itself, not a filename the
    uploaded file should have.
   </p>
   <p class="simpara">
    With PHP you would then do something like the following in
    your put.php. This would copy the contents of the uploaded file to the
    file <var class="filename">myputfile.ext</var> on the server.
    You would probably want to perform some checks and/or
    authenticate the user before performing this file copy.
   </p>
   <p class="para">
    <div class="example" id="example-386">
     <p><strong>Example #1 Saving HTTP PUT files</strong></p>
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">/*&#xA0;PUT&#xA0;data&#xA0;comes&#xA0;in&#xA0;on&#xA0;the&#xA0;stdin&#xA0;stream&#xA0;*/<br></span><span style="color: #0000BB">$putdata&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">fopen</span><span style="color: #007700">(</span><span style="color: #DD0000">&quot;php://input&quot;</span><span style="color: #007700">,&#xA0;</span><span style="color: #DD0000">&quot;r&quot;</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&#xA0;Open&#xA0;a&#xA0;file&#xA0;for&#xA0;writing&#xA0;*/<br></span><span style="color: #0000BB">$fp&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">fopen</span><span style="color: #007700">(</span><span style="color: #DD0000">&quot;myputfile.ext&quot;</span><span style="color: #007700">,&#xA0;</span><span style="color: #DD0000">&quot;w&quot;</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&#xA0;Read&#xA0;the&#xA0;data&#xA0;1&#xA0;KB&#xA0;at&#xA0;a&#xA0;time<br>&#xA0;&#xA0;&#xA0;and&#xA0;write&#xA0;to&#xA0;the&#xA0;file&#xA0;*/<br></span><span style="color: #007700">while&#xA0;(</span><span style="color: #0000BB">$data&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">fread</span><span style="color: #007700">(</span><span style="color: #0000BB">$putdata</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">1024</span><span style="color: #007700">))<br>&#xA0;&#xA0;</span><span style="color: #0000BB">fwrite</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">$data</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&#xA0;Close&#xA0;the&#xA0;streams&#xA0;*/<br></span><span style="color: #0000BB">fclose</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">);<br></span><span style="color: #0000BB">fclose</span><span style="color: #007700">(</span><span style="color: #0000BB">$putdata</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
     </div>

    </div>
   </p>
  