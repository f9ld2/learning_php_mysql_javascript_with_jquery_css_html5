---
layout: default
---
 <textarea style="width: 100%;height: 200px;" rows="4" cols="50"></textarea> <br/>
 <button onclick="doBr()">DoBr</button><br/>
 <button onclick="doA()">DoA</button><br/>
 <script>
function doA() {
    $('textarea').val(tagA($('textarea').val()));
}
function doBr() {
    var lines = $('textarea').val().split("\n");
    $.each(lines, function(index, value){
        if($.trim(value) == ""){
            lines[index] = "<br/>";
        }
    })
    
    $('textarea').val(lines.join("\n"));
}
function toUrl(str){
    return str.toLowerCase().replace(/[^a-z0-9]/g, "-").replace(/[\-]+/g, "-").replace(/^\-+|\-+$/gm,'');
}

function tagA(tmp){
    return tmp.replace(/(<h\d>[^>]+>)/g, function( match, key ){
        return '<a id="' + toUrl( $(key).text()) + '"></a>' + "\n" + key;
    });
}
</script>