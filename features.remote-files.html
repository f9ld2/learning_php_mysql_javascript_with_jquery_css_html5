---
layout: default
---

  <h1>Using remote files</h1>


  <p class="para">
   As long as <strong class="option unknown">allow_url_fopen</strong>
 is enabled in
   <var class="filename">php.ini</var>, you can use <acronym title="Hypertext Transfer Protocol">HTTP</acronym> and <acronym title="File Transfer Protocol">FTP</acronym> 
   URLs with most of the functions
   that take a filename as a parameter.  In addition, URLs can be
   used with the <span class="function"><a href="function.include.html" class="function">include</a></span>,
   <span class="function"><a href="function.include-once.html" class="function">include_once</a></span>, <span class="function"><a href="function.require.html" class="function">require</a></span> and
   <span class="function"><a href="function.require-once.html" class="function">require_once</a></span> statements (since PHP 5.2.0,
   <strong class="option unknown">allow_url_include</strong>
 must be enabled for these).
   See <a href="wrappers.html" class="xref">Supported Protocols and Wrappers</a> for more information about the protocols
   supported by PHP.
  </p>
  <p class="para">
   For example, you can use this to open a file on a remote web server,
   parse the output for the data you want, and then use that data in a
   database query, or simply to output it in a style matching the rest
   of your website.
  </p>
  <p class="para">
   <div class="example" id="example-387">
    <p><strong>Example #1 Getting the title of a remote page</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>$file&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">fopen&#xA0;</span><span style="color: #007700">(</span><span style="color: #DD0000">&quot;http://www.example.com/&quot;</span><span style="color: #007700">,&#xA0;</span><span style="color: #DD0000">&quot;r&quot;</span><span style="color: #007700">);<br>if&#xA0;(!</span><span style="color: #0000BB">$file</span><span style="color: #007700">)&#xA0;{<br>&#xA0;&#xA0;&#xA0;&#xA0;echo&#xA0;</span><span style="color: #DD0000">&quot;&lt;p&gt;Unable&#xA0;to&#xA0;open&#xA0;remote&#xA0;file.\n&quot;</span><span style="color: #007700">;<br>&#xA0;&#xA0;&#xA0;&#xA0;exit;<br>}<br>while&#xA0;(!</span><span style="color: #0000BB">feof&#xA0;</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">))&#xA0;{<br>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #0000BB">$line&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">fgets&#xA0;</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">1024</span><span style="color: #007700">);<br>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #FF8000">/*&#xA0;This&#xA0;only&#xA0;works&#xA0;if&#xA0;the&#xA0;title&#xA0;and&#xA0;its&#xA0;tags&#xA0;are&#xA0;on&#xA0;one&#xA0;line&#xA0;*/<br>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #007700">if&#xA0;(</span><span style="color: #0000BB">preg_match&#xA0;</span><span style="color: #007700">(</span><span style="color: #DD0000">&quot;@\&lt;title\&gt;(.*)\&lt;/title\&gt;@i&quot;</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">$line</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">$out</span><span style="color: #007700">))&#xA0;{<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #0000BB">$title&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">$out</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">];<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;break;<br>&#xA0;&#xA0;&#xA0;&#xA0;}<br>}<br></span><span style="color: #0000BB">fclose</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
  <p class="para">
   You can also write to files on an FTP server (provided that you
   have connected as a user with the correct access rights). You
   can only create new files using this method; if you try to overwrite
   a file that already exists, the <span class="function"><a href="function.fopen.html" class="function">fopen()</a></span> call will
   fail.
  </p>
  <p class="para">
   To connect as a user other than &apos;anonymous&apos;, you need to specify
   the username (and possibly password) within the URL, such as
   &apos;<em>ftp://user:password@ftp.example.com/path/to/file</em>&apos;.
   (You can use the same sort of syntax to access files via
   <acronym title="Hypertext Transfer Protocol">HTTP</acronym> when they require Basic authentication.)
  </p>
  <p class="para">
   <div class="example" id="example-388">
    <p><strong>Example #2 Storing data on a remote server</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>$file&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">fopen&#xA0;</span><span style="color: #007700">(</span><span style="color: #DD0000">&quot;ftp://ftp.example.com/incoming/outputfile&quot;</span><span style="color: #007700">,&#xA0;</span><span style="color: #DD0000">&quot;w&quot;</span><span style="color: #007700">);<br>if&#xA0;(!</span><span style="color: #0000BB">$file</span><span style="color: #007700">)&#xA0;{<br>&#xA0;&#xA0;&#xA0;&#xA0;echo&#xA0;</span><span style="color: #DD0000">&quot;&lt;p&gt;Unable&#xA0;to&#xA0;open&#xA0;remote&#xA0;file&#xA0;for&#xA0;writing.\n&quot;</span><span style="color: #007700">;<br>&#xA0;&#xA0;&#xA0;&#xA0;exit;<br>}<br></span><span style="color: #FF8000">/*&#xA0;Write&#xA0;the&#xA0;data&#xA0;here.&#xA0;*/<br></span><span style="color: #0000BB">fwrite&#xA0;</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">&apos;HTTP_USER_AGENT&apos;</span><span style="color: #007700">]&#xA0;.&#xA0;</span><span style="color: #DD0000">&quot;\n&quot;</span><span style="color: #007700">);<br></span><span style="color: #0000BB">fclose&#xA0;</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>  
    </div>

   </div>
  </p>
  <p class="para">
   <blockquote class="note"><p><strong class="note">Note</strong>: 
    </p><p class="para">
     You might get the idea from the example above that you can use
     this technique to write to a remote log file. Unfortunately
     that would not work because the <span class="function"><a href="function.fopen.html" class="function">fopen()</a></span> call will
     fail if the remote file already exists. To do distributed logging
     like that, you should take a look at <span class="function"><a href="function.syslog.html" class="function">syslog()</a></span>.
    </p> 
   </blockquote></p>
  <p></p>

 