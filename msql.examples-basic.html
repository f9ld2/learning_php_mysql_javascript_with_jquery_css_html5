---
layout: default
---

  <h2 class="title">Basic usage</h2>
  <p class="para">
   This simple example shows how to connect, execute a query, print
   resulting rows and disconnect from a mSQL database.
   <div class="example" id="example-1745">
    <p><strong>Example #1 mSQL usage example</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">/*&#xA0;Connecting,&#xA0;selecting&#xA0;database&#xA0;*/<br></span><span style="color: #0000BB">$link&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">msql_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">&apos;localhost&apos;</span><span style="color: #007700">,&#xA0;</span><span style="color: #DD0000">&apos;username&apos;</span><span style="color: #007700">,&#xA0;</span><span style="color: #DD0000">&apos;password&apos;</span><span style="color: #007700">)<br>&#xA0;&#xA0;&#xA0;&#xA0;or&#xA0;die(</span><span style="color: #DD0000">&apos;Could&#xA0;not&#xA0;connect&#xA0;:&#xA0;&apos;&#xA0;</span><span style="color: #007700">.&#xA0;</span><span style="color: #0000BB">msql_error</span><span style="color: #007700">(</span><span style="color: #0000BB">$link</span><span style="color: #007700">));<br><br></span><span style="color: #0000BB">msql_select_db</span><span style="color: #007700">(</span><span style="color: #DD0000">&apos;database&apos;</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">$link</span><span style="color: #007700">)<br>&#xA0;&#xA0;&#xA0;&#xA0;or&#xA0;die(</span><span style="color: #DD0000">&apos;Could&#xA0;not&#xA0;select&#xA0;database&apos;</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&#xA0;Issue&#xA0;SQL&#xA0;query&#xA0;*/<br></span><span style="color: #0000BB">$query&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #DD0000">&apos;SELECT&#xA0;*&#xA0;FROM&#xA0;my_table&apos;</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$result&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">msql_query</span><span style="color: #007700">(</span><span style="color: #0000BB">$query</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">$link</span><span style="color: #007700">)&#xA0;or&#xA0;die(</span><span style="color: #DD0000">&apos;Query&#xA0;failed&#xA0;:&#xA0;&apos;&#xA0;</span><span style="color: #007700">.&#xA0;</span><span style="color: #0000BB">msql_error</span><span style="color: #007700">());<br><br></span><span style="color: #FF8000">/*&#xA0;Printing&#xA0;results&#xA0;in&#xA0;HTML&#xA0;*/<br></span><span style="color: #007700">echo&#xA0;</span><span style="color: #DD0000">&quot;&lt;table&gt;\n&quot;</span><span style="color: #007700">;<br>while&#xA0;(</span><span style="color: #0000BB">$row&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">msql_fetch_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$result</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">MSQL_ASSOC</span><span style="color: #007700">))&#xA0;{<br>&#xA0;&#xA0;&#xA0;&#xA0;echo&#xA0;</span><span style="color: #DD0000">&quot;\t&lt;tr&gt;\n&quot;</span><span style="color: #007700">;<br>&#xA0;&#xA0;&#xA0;&#xA0;foreach&#xA0;(</span><span style="color: #0000BB">$row&#xA0;</span><span style="color: #007700">as&#xA0;</span><span style="color: #0000BB">$col_value</span><span style="color: #007700">)&#xA0;{<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;echo&#xA0;</span><span style="color: #DD0000">&quot;\t\t&lt;td&gt;</span><span style="color: #0000BB">$col_value</span><span style="color: #DD0000">&lt;/td&gt;\n&quot;</span><span style="color: #007700">;<br>&#xA0;&#xA0;&#xA0;&#xA0;}<br>&#xA0;&#xA0;&#xA0;&#xA0;echo&#xA0;</span><span style="color: #DD0000">&quot;\t&lt;/tr&gt;\n&quot;</span><span style="color: #007700">;<br>}<br>echo&#xA0;</span><span style="color: #DD0000">&quot;&lt;/table&gt;\n&quot;</span><span style="color: #007700">;<br><br></span><span style="color: #FF8000">/*&#xA0;Free&#xA0;result&#xA0;set&#xA0;*/<br></span><span style="color: #0000BB">msql_free_result</span><span style="color: #007700">(</span><span style="color: #0000BB">$result</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&#xA0;Close&#xA0;connection&#xA0;*/<br></span><span style="color: #0000BB">msql_close</span><span style="color: #007700">(</span><span style="color: #0000BB">$link</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 