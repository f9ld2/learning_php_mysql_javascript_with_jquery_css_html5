---
layout: default
---

    <h2 class="title">Extended interface</h2>
    
    <p class="simpara">
     The extended interface provides a small suite of functions that allow the
     user to define an arbitrary number of named counters with unique settings.
     The basic interface can be used in parallel with the extended interface.
    </p>
    
    <div class="example" id="example-6406">
     <p><strong>Example #1 &quot;counter&quot;&apos;s extended interface</strong></p>
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #007700">function&#xA0;</span><span style="color: #0000BB">print_counter_info</span><span style="color: #007700">(</span><span style="color: #0000BB">$counter</span><span style="color: #007700">)<br>{<br>&#xA0;&#xA0;&#xA0;&#xA0;if&#xA0;(</span><span style="color: #0000BB">is_resource</span><span style="color: #007700">(</span><span style="color: #0000BB">$counter</span><span style="color: #007700">))&#xA0;{<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">&quot;Counter&apos;s&#xA0;name&#xA0;is&#xA0;&apos;%s&apos;&#xA0;and&#xA0;is%s&#xA0;persistent.&#xA0;Its&#xA0;current&#xA0;value&#xA0;is&#xA0;%d.\n&quot;</span><span style="color: #007700">,<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #0000BB">counter_get_meta</span><span style="color: #007700">(</span><span style="color: #0000BB">$counter</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">COUNTER_META_NAME</span><span style="color: #007700">),<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #0000BB">counter_get_meta</span><span style="color: #007700">(</span><span style="color: #0000BB">$counter</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">COUNTER_META_IS_PERSISTENT</span><span style="color: #007700">)&#xA0;?&#xA0;</span><span style="color: #DD0000">&apos;&apos;&#xA0;</span><span style="color: #007700">:&#xA0;</span><span style="color: #DD0000">&apos;&#xA0;not&apos;</span><span style="color: #007700">,<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #0000BB">counter_get_value</span><span style="color: #007700">(</span><span style="color: #0000BB">$counter</span><span style="color: #007700">));<br>&#xA0;&#xA0;&#xA0;&#xA0;}&#xA0;else&#xA0;{<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;print&#xA0;</span><span style="color: #DD0000">&quot;Not&#xA0;a&#xA0;valid&#xA0;counter!\n&quot;</span><span style="color: #007700">;<br>&#xA0;&#xA0;&#xA0;&#xA0;}<br>}<br><br>if&#xA0;((</span><span style="color: #0000BB">$counter_one&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">counter_get_named</span><span style="color: #007700">(</span><span style="color: #DD0000">&quot;one&quot;</span><span style="color: #007700">))&#xA0;===&#xA0;</span><span style="color: #0000BB">NULL</span><span style="color: #007700">)&#xA0;{<br>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #0000BB">$counter_one&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">counter_create</span><span style="color: #007700">(</span><span style="color: #DD0000">&quot;one&quot;</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">COUNTER_FLAG_PERSIST</span><span style="color: #007700">);<br>}<br></span><span style="color: #0000BB">counter_bump_value</span><span style="color: #007700">(</span><span style="color: #0000BB">$counter_one</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">2</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$counter_two&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">counter_create</span><span style="color: #007700">(</span><span style="color: #DD0000">&quot;two&quot;</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">5</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$counter_three&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">counter_get_named</span><span style="color: #007700">(</span><span style="color: #DD0000">&quot;three&quot;</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$counter_four&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">counter_create</span><span style="color: #007700">(</span><span style="color: #DD0000">&quot;four&quot;</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">COUNTER_FLAG_PERSIST&#xA0;</span><span style="color: #007700">|&#xA0;</span><span style="color: #0000BB">COUNTER_FLAG_SAVE&#xA0;</span><span style="color: #007700">|&#xA0;</span><span style="color: #0000BB">COUNTER_FLAG_NO_OVERWRITE</span><span style="color: #007700">);<br></span><span style="color: #0000BB">counter_bump_value</span><span style="color: #007700">(</span><span style="color: #0000BB">$counter_four</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">print_counter_info</span><span style="color: #007700">(</span><span style="color: #0000BB">$counter_one</span><span style="color: #007700">);<br></span><span style="color: #0000BB">print_counter_info</span><span style="color: #007700">(</span><span style="color: #0000BB">$counter_two</span><span style="color: #007700">);<br></span><span style="color: #0000BB">print_counter_info</span><span style="color: #007700">(</span><span style="color: #0000BB">$counter_three</span><span style="color: #007700">);<br></span><span style="color: #0000BB">print_counter_info</span><span style="color: #007700">(</span><span style="color: #0000BB">$counter_four</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
     </div>

     <div class="example-contents"><p>
      When run once, the above example outputs:
     </p></div>
     <div class="example-contents screen">
<div class="cdata"><pre>
Counter&apos;s name is &apos;one&apos; and is persistent. Its current value is 2.
Counter&apos;s name is &apos;two&apos; and is not persistent. Its current value is 5.
Not a valid counter!
Counter&apos;s name is &apos;four&apos; and is persistent. Its current value is 3.</pre></div></div>
     <div class="example-contents"><p>
      If run a second time within the same instance of PHP, it outputs:
     </p></div>
     <div class="example-contents screen">
<div class="cdata"><pre>
Counter&apos;s name is &apos;one&apos; and is persistent. Its current value is 4.
Counter&apos;s name is &apos;two&apos; and is not persistent. Its current value is 5.
Not a valid counter!
Counter&apos;s name is &apos;four&apos; and is persistent. Its current value is 4.</pre></div></div>
     <div class="example-contents"><p>
      If then run a third time <em class="emphasis">in a different instance of
      PHP</em>, it outputs:
     </p></div>
     <div class="example-contents screen">
<div class="cdata"><pre>
Counter&apos;s name is &apos;one&apos; and is persistent. Its current value is 2.
Counter&apos;s name is &apos;two&apos; and is not persistent. Its current value is 5.
Not a valid counter!
Counter&apos;s name is &apos;four&apos; and is persistent. Its current value is 5.</pre></div></div>
    </div>
   