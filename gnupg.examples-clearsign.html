---
layout: default
---

  <h2 class="title">Clearsign text</h2>
  <p class="para">
   This example will clearsign a given text.
  </p>
  <div class="example" id="example-4041">
   <p><strong>Example #1 gnupg clearsign example (procedural)</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">//&#xA0;init&#xA0;gnupg<br></span><span style="color: #0000BB">$res&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">gnupg_init</span><span style="color: #007700">();<br></span><span style="color: #FF8000">//&#xA0;not&#xA0;really&#xA0;needed.&#xA0;Clearsign&#xA0;is&#xA0;default<br></span><span style="color: #0000BB">gnupg_setsignmode</span><span style="color: #007700">(</span><span style="color: #0000BB">$res</span><span style="color: #007700">,</span><span style="color: #0000BB">GNUPG_SIG_MODE_CLEAR</span><span style="color: #007700">);<br></span><span style="color: #FF8000">//&#xA0;add&#xA0;key&#xA0;with&#xA0;passphrase&#xA0;&apos;test&apos;&#xA0;for&#xA0;signing<br></span><span style="color: #0000BB">gnupg_addsignkey</span><span style="color: #007700">(</span><span style="color: #0000BB">$res</span><span style="color: #007700">,</span><span style="color: #DD0000">&quot;8660281B6051D071D94B5B230549F9DC851566DC&quot;</span><span style="color: #007700">,</span><span style="color: #DD0000">&quot;test&quot;</span><span style="color: #007700">);<br></span><span style="color: #FF8000">//&#xA0;sign<br></span><span style="color: #0000BB">$signed&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">gnupg_sign</span><span style="color: #007700">(</span><span style="color: #0000BB">$res</span><span style="color: #007700">,</span><span style="color: #DD0000">&quot;just&#xA0;a&#xA0;test&quot;</span><span style="color: #007700">);<br>echo&#xA0;</span><span style="color: #0000BB">$signed</span><span style="color: #007700">;<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
  <div class="example" id="example-4042">
   <p><strong>Example #2 gnupg clearsign example (OO)</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">//&#xA0;new&#xA0;class<br></span><span style="color: #0000BB">$gnupg&#xA0;</span><span style="color: #007700">=&#xA0;new&#xA0;</span><span style="color: #0000BB">gnupg</span><span style="color: #007700">();<br></span><span style="color: #FF8000">//&#xA0;not&#xA0;really&#xA0;needed.&#xA0;Clearsign&#xA0;is&#xA0;default<br></span><span style="color: #0000BB">$gnupg</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setsignmode</span><span style="color: #007700">(</span><span style="color: #0000BB">gnupg</span><span style="color: #007700">::</span><span style="color: #0000BB">SIG_MODE_CLEAR</span><span style="color: #007700">);<br></span><span style="color: #FF8000">//&#xA0;add&#xA0;key&#xA0;with&#xA0;passphrase&#xA0;&apos;test&apos;&#xA0;for&#xA0;signing<br></span><span style="color: #0000BB">$gnupg</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addsignkey</span><span style="color: #007700">(</span><span style="color: #DD0000">&quot;8660281B6051D071D94B5B230549F9DC851566DC&quot;</span><span style="color: #007700">,</span><span style="color: #DD0000">&quot;test&quot;</span><span style="color: #007700">);<br></span><span style="color: #FF8000">//&#xA0;sign<br></span><span style="color: #0000BB">$signed&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">$gnupg</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">sign</span><span style="color: #007700">(</span><span style="color: #DD0000">&quot;just&#xA0;a&#xA0;test&quot;</span><span style="color: #007700">);<br>echo&#xA0;</span><span style="color: #0000BB">$signed</span><span style="color: #007700">;<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
  <div class="example" id="example-4043">
   <p><strong>Example #3 keylistiterator</strong></p>
   <div class="example-contents"><p>
    This extension also comes with an Iterator for your keyring.
   </p></div>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">//&#xA0;create&#xA0;a&#xA0;new&#xA0;iterator&#xA0;for&#xA0;listing&#xA0;all&#xA0;public&#xA0;keys&#xA0;that&#xA0;matches&#xA0;&apos;example&apos;<br></span><span style="color: #0000BB">$iterator&#xA0;</span><span style="color: #007700">=&#xA0;new&#xA0;</span><span style="color: #0000BB">gnupg_keylistiterator</span><span style="color: #007700">(</span><span style="color: #DD0000">&quot;example&quot;</span><span style="color: #007700">);<br>foreach(</span><span style="color: #0000BB">$iterator&#xA0;</span><span style="color: #007700">as&#xA0;</span><span style="color: #0000BB">$fingerprint&#xA0;</span><span style="color: #007700">=&gt;&#xA0;</span><span style="color: #0000BB">$userid</span><span style="color: #007700">){<br>&#xA0;&#xA0;&#xA0;&#xA0;echo&#xA0;</span><span style="color: #0000BB">$fingerprint</span><span style="color: #007700">.</span><span style="color: #DD0000">&quot;&#xA0;-&gt;&#xA0;&quot;</span><span style="color: #007700">.</span><span style="color: #0000BB">$userid</span><span style="color: #007700">.</span><span style="color: #DD0000">&quot;\n&quot;</span><span style="color: #007700">;<br>}<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>
  
  </div>
 