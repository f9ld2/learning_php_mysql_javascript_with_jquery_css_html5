---
layout: default
---

  <div class="refnamediv">
    <h1 class="refname">db2_set_option</h1>
    <p class="verinfo">(PECL ibm_db2 &gt;= 1.0.0)</p><p class="refpurpose"><span class="refname">db2_set_option</span> &#x2014; <span class="dc-title">Set options for connection or statement resources</span></p>

  </div>
  <div class="refsect1 description" id="refsect1-function.db2-set-option-description">
    <h3 class="title">Description</h3>
    <div class="methodsynopsis dc-description">
      <span class="type">bool</span> <span class="methodname"><strong>db2_set_option</strong></span>
       ( <span class="methodparam"><span class="type">resource</span> <code class="parameter">$resource</code></span>      
      , <span class="methodparam"><span class="type">array</span> <code class="parameter">$options</code></span>
      , <span class="methodparam"><span class="type">int</span> <code class="parameter">$type</code></span>
     )</div>

    <p class="para rdfs-comment">
     Sets options for a statement resource or a connection resource. You
     cannot set options for result set resources. 
    </p>
  </div>

  <div class="refsect1 parameters" id="refsect1-function.db2-set-option-parameters">
    <h3 class="title">Parameters</h3>
    <p class="para">
      <dl>

        
          <dt>
<code class="parameter">resource</code></dt>

          <dd>

            <p class="para">
             A valid statement resource as returned from
             <span class="function"><a href="function.db2-prepare.html" class="function">db2_prepare()</a></span> or a valid connection resource as
             returned from <span class="function"><a href="function.db2-connect.html" class="function">db2_connect()</a></span> or
             <span class="function"><a href="function.db2-pconnect.html" class="function">db2_pconnect()</a></span>.
            </p>
          </dd>

        
        
          <dt>
<code class="parameter">options</code></dt>

          <dd>

            <p class="para">
             An associative array containing valid statement or connection
             options. This parameter can be used to change autocommit values,
             cursor types (scrollable or forward), and to specify the case of
             the column names (lower, upper, or natural) that will appear in a
             result set.
              <dl>

                
                  <dt>
<code class="parameter">autocommit</code></dt>

                  <dd>

                    <p class="para">
                     Passing <em>DB2_AUTOCOMMIT_ON</em> turns
                     autocommit on for the specified connection resource.
                    </p>
                    <p class="para">
                     Passing <em>DB2_AUTOCOMMIT_OFF</em> turns
                     autocommit off for the specified connection resource.
                    </p>
                  </dd>

                
                
                  <dt>
<code class="parameter">cursor</code></dt>

                  <dd>

                    <p class="para">
                     Passing <em>DB2_FORWARD_ONLY</em> specifies a
                     forward-only cursor for a statement resource. This is the
                     default cursor type, and is supported by all database
                     servers.
                    </p>
                    <p class="para">
                     Passing <em>DB2_SCROLLABLE</em> specifies a
                     scrollable cursor for a statement resource. Scrollable
                     cursors enable result set rows to be accessed in
                     non-sequential order, but are only supported by
                     IBM DB2 Universal Database databases.
                    </p>
                  </dd>

                
                
                  <dt>
<code class="parameter">binmode</code></dt>

                  <dd>

                    <p class="para">
                     Passing <em>DB2_BINARY</em> specifies that
                     binary data will be returned as is. This is the default
                     mode. This is the equivalent of setting
                     <em>ibm_db2.binmode=1</em> in <var class="filename">php.ini</var>.
                    </p>
                    <p class="para">
                     Passing <em>DB2_CONVERT</em> specifies that
                     binary data will be converted to hexadecimal encoding,
                     and will be returned as such. This is the equivalent of
                     setting <em>ibm_db2.binmode=2</em> in <var class="filename">php.ini</var>.
                    </p>
                    <p class="para">
                     Passing <em>DB2_PASSTHRU</em> specifies that
                     binary data will be converted to <strong><code>NULL</code></strong>. This is the
                     equivalent of setting <em>ibm_db2.binmode=3</em>
                     in <var class="filename">php.ini</var>.
                    </p>
                  </dd>

                
                
                  <dt>
<code class="parameter">db2_attr_case</code></dt>

                  <dd>

                    <p class="para">
                     Passing <em>DB2_CASE_LOWER</em> specifies that
                     column names of the result set are returned in lower case.
                    </p>
                    <p class="para">
                     Passing <em>DB2_CASE_UPPER</em> specifies that
                     column names of the result set are returned in upper case.
                    </p>
                    <p class="para">
                     Passing <em>DB2_CASE_NATURAL</em> specifies that
                     column names of the result set are returned in natural
                     case.
                    </p>
                  </dd>

                
                
                 <dt>
<code class="parameter">deferred_prepare</code></dt>

                 <dd>

                  <p class="para">
                   Passing <em>DB2_DEFERRED_PREPARE_ON</em> turns deferred 
                   prepare on for the specified statement resource.
                  </p>
                  <p class="para">
                   Passing <em>DB2_DEFERRED_PREPARE_OFF</em> turns deferred 
                   prepare off for the specified statement resource.
                  </p>
                 </dd>

                                
              </dl>

            </p>
            <p class="para">
             The following new i5/OS options are available in ibm_db2 version 1.5.1 
             and later. These options apply only when running PHP and ibm_db2 natively on i5 systems.
              <dl>

                
                  <dt>
<code class="parameter">i5_fetch_only</code></dt>

                  <dd>

                    <p class="para">
                     <em>DB2_I5_FETCH_ON</em> - Cursors are read-only 
                     and cannot be used for positioned updates or deletes. This 
                     is the default unless <em>SQL_ATTR_FOR_FETCH_ONLY</em> 
                     environment has been set to <em>SQL_FALSE</em>.
                    </p>
                    <p class="para">
                     <em>DB2_I5_FETCH_OFF</em> - Cursors can be used 
                     for positioned updates and deletes.
                    </p>
                  </dd>

                
               </dl>

            </p>
            <p class="para">
             The following new option is available in ibm_db2 version 1.8.0 and later.
              <dl>

                
                  <dt>
<code class="parameter">rowcount</code></dt>

                  <dd>

                    <p class="para">
                     <em>DB2_ROWCOUNT_PREFETCH_ON</em> - Client can request 
                     the full row count prior to fetching, which means that 
                     <span class="function"><a href="function.db2-num-rows.html" class="function">db2_num_rows()</a></span> returns the number of rows selected 
                     even when a <em>ROLLFORWARD_ONLY</em> cursor is used.
                    </p>
                    <p class="para">
                     <em>DB2_ROWCOUNT_PREFETCH_OFF</em> - Client cannot request
                     the full row count prior to fetching.
                    </p>
                  </dd>

                
              </dl>

            </p>            
            <p class="para">
             The following new options are available in ibm_db2 version 1.7.0 and later.
              <dl>

                
                  <dt>
<code class="parameter">trusted_user</code></dt>

                  <dd>

                    <p class="para">
                     To switch the user to a trusted user, pass the User ID (String) 
                     of the trusted user as the value of this key. This option can 
                     be set on a connection resource only. To use this option, trusted
                     context must be enabled on the connection resource.
                    </p>
                  </dd>

                
                
                  <dt>
<code class="parameter">trusted_password</code></dt>

                  <dd>

                    <p class="para">
                     The password (String) that corresponds to the user specified
                     by the trusted_user key.
                    </p>
                  </dd>

                                
               </dl>

            </p>            
            <p class="para">
             The following new options are available in ibm_db2 version 1.6.0 and later. 
             These options provide useful tracking information that can be accessed during 
             execution with <span class="function"><a href="function.db2-get-option.html" class="function">db2_get_option()</a></span>.
             <blockquote class="note"><p><strong class="note">Note</strong>: 
              </p><p class="para">
               When the value in each option is being set, some servers might not handle 
               the entire length provided and might truncate the value.
              </p>
              <p class="para">
               To ensure that the data specified in each option is converted correctly 
               when transmitted to a host system, use only the characters A through Z, 
               0 through 9, and the underscore (_) or period (.).
              </p>
             </blockquote></p>
             <dl>

              
               <dt>
<code class="parameter">userid</code></dt>

               <dd>

                <p class="para">
                 <em>SQL_ATTR_INFO_USERID</em> - A pointer to a null-terminated 
                 character string used to identify the client user ID sent to the host 
                 database server when using DB2 Connect.
                 <blockquote class="note"><p><strong class="note">Note</strong>: 
                  </p><p class="para">
                   DB2 for z/OS and OS/390 servers support up to a length of 16 characters. 
                   This user-id is not to be confused with the authentication user-id, it is for 
                   identification purposes only and is not used for any authorization.
                  </p>
                 </blockquote></p>
                </dd></dl></dd></dl></p>
               

              
              
               <dt>
<code class="parameter">acctstr</code></dt>

               <dd>

                <p class="para">
                 <em>SQL_ATTR_INFO_ACCTSTR</em> - A pointer to a null-terminated 
                 character string used to identify the client accounting string sent to the 
                 host database server when using DB2 Connect.
                 <blockquote class="note"><p><strong class="note">Note</strong>: 
                  </p><p class="para">
                   DB2 for z/OS and OS/390 servers support up to a length of 200 characters.
                  </p>
                 </blockquote></p>
                <p></p>
               </dd>

              
              
               <dt>
<code class="parameter">applname</code></dt>

               <dd>

                <p class="para">
                 <em>SQL_ATTR_INFO_APPLNAME</em> - A pointer to a null-terminated 
                 character string used to identify the client application name sent to the 
                 host database server when using DB2 Connect.
                 <blockquote class="note"><p><strong class="note">Note</strong>: 
                  </p><p class="para">
                   DB2 for z/OS and OS/390 servers support up to a length of 32 characters.
                  </p>
                 </blockquote></p>
                <p></p>
               </dd>

              
              
               <dt>
<code class="parameter">wrkstnname</code></dt>

               <dd>

                <p class="para">
                 <em>SQL_ATTR_INFO_WRKSTNNAME</em> - A pointer to a null-terminated 
                 character string used to identify the client workstation name sent to the 
                 host database server when using DB2 Connect.
                 <blockquote class="note"><p><strong class="note">Note</strong>: 
                  </p><p class="para">
                   DB2 for z/OS and OS/390 servers support up to a length of 18 characters.
                  </p>
                 </blockquote></p>
                <p></p>
               </dd>

              
             

            <p></p>
          

        
        
          <dt>
<code class="parameter">type</code></dt>

          <dd>

            <p class="para">
             An integer value that specifies the type of resource that was
             passed into the function. The type of resource and this value
             must correspond.
            </p>
            <p class="para">
             Passing <em>1</em> as the value specifies that
             a connection resource has been passed into the function.
            </p>
            <p class="para">
             Passing any integer not equal to <em>1</em> as
             the value specifies that a statement resource has been
             passed into the function.
            </p>
          </dd>

        
      

    <p></p>
    <p class="para">
    </p>
    <p class="para">
     The following table specifies which options are compatible with
     the available resource types:
      <table class="doctable table">
        <caption><strong>Resource-Parameter Matrix</strong></caption>
        
          <col style="text-align: center;">
          <col style="text-align: center;">
          <col style="text-align: center;">
          <col style="text-align: center;">
          <col style="text-align: center;">
          
          <thead>
            <tr>
              <th>Key</th>
              <th>Value</th>
              <th colspan="3">Resource Type</th>
            </tr>

          </thead>


          <tbody class="tbody">
            <tr>
              <td class="empty">&#xA0;</td><td class="empty">&#xA0;</td><td>Connection</td>
              <td>Statement</td>
              <td>Result Set</td>
            </tr>

            <tr>
              <td>autocommit</td>
              <td><em>DB2_AUTOCOMMIT_ON</em></td>
              <td>X</td>
              <td>-</td>
              <td>-</td>
            </tr>

            <tr>
              <td>autocommit</td>
              <td><em>DB2_AUTOCOMMIT_OFF</em></td>
              <td>X</td>
              <td>-</td>
              <td>-</td>
            </tr>

            <tr>
              <td>cursor</td>
              <td><em>DB2_SCROLLABLE</em></td>
              <td>-</td>
              <td>X</td>
              <td>-</td>
            </tr>

            <tr>
              <td>cursor</td>
              <td><em>DB2_FORWARD_ONLY</em></td>
              <td>-</td>
              <td>X</td>
              <td>-</td>
            </tr>

            <tr>
              <td>binmode</td>
              <td><em>DB2_BINARY</em></td>
              <td>X</td>
              <td>X</td>
              <td>-</td>
            </tr>

            <tr>
              <td>binmode</td>
              <td><em>DB2_CONVERT</em></td>
              <td>X</td>
              <td>X</td>
              <td>-</td>
            </tr>

            <tr>
              <td>binmode</td>
              <td><em>DB2_PASSTHRU</em></td>
              <td>X</td>
              <td>X</td>
              <td>-</td>
            </tr>

            <tr>
              <td>db2_attr_case</td>
              <td><em>DB2_CASE_LOWER</em></td>
              <td>X</td>
              <td>X</td>
              <td>-</td>
            </tr>

            <tr>
              <td>db2_attr_case</td>
              <td><em>DB2_CASE_UPPER</em></td>
              <td>X</td>
              <td>X</td>
              <td>-</td>
            </tr>

            <tr>
              <td>db2_attr_case</td>
              <td><em>DB2_CASE_NATURAL</em></td>
              <td>X</td>
              <td>X</td>
              <td>-</td>
            </tr>

            <tr>
              <td>deferred_prepare</td>
              <td><em>DB2_DEFERRED_PREPARE_ON</em></td>
              <td>-</td>
              <td>X</td>
              <td>-</td>
            </tr>

            <tr>
              <td>deferred_prepare</td>
              <td><em>DB2_DEFERRED_PREPARE_OFF</em></td>
              <td>-</td>
              <td>X</td>
              <td>-</td>
            </tr>

            <tr>
              <td>i5_fetch_only</td>
              <td><em>DB2_I5_FETCH_ON</em></td>
              <td>-</td>
              <td>X</td>
              <td>-</td>
            </tr>

            <tr>
              <td>i5_fetch_only</td>
              <td><em>DB2_I5_FETCH_OFF</em></td>
              <td>-</td>
              <td>X</td>
              <td>-</td>
            </tr>

            <tr>
              <td>rowcount</td>
              <td><em>DB2_ROWCOUNT_PREFETCH_ON</em></td>
              <td>-</td>
              <td>X</td>
              <td>-</td>
            </tr>

            <tr>
              <td>rowcount</td>
              <td><em>DB2_ROWCOUNT_PREFETCH_OFF</em></td>
              <td>-</td>
              <td>X</td>
              <td>-</td>
            </tr>

            <tr>
              <td>trusted_user</td>
              <td><em>&lt;USER NAME&gt; (String)</em></td>
              <td>X</td>
              <td>-</td>
              <td>-</td>
            </tr>

            <tr>
              <td>trusted_password</td>
              <td><em>&lt;PASSWORD&gt; (String)</em></td>
              <td>X</td>
              <td>-</td>
              <td>-</td>
            </tr>

            <tr>
              <td>userid</td>
              <td><em>SQL_ATTR_INFO_USERID</em></td>
              <td>X</td>
              <td>X</td>
              <td>-</td>
            </tr>

            <tr>
              <td>acctstr</td>
              <td><em>SQL_ATTR_INFO_ACCTSTR</em></td>
              <td>X</td>
              <td>X</td>
              <td>-</td>
            </tr>

            <tr>
              <td>applname</td>
              <td><em>SQL_ATTR_INFO_APPLNAME</em></td>
              <td>X</td>
              <td>X</td>
              <td>-</td>
            </tr>

            <tr>
              <td>wrkstnname</td>
              <td><em>SQL_ATTR_INFO_WRKSTNNAME</em></td>
              <td>X</td>
              <td>X</td>
              <td>-</td>
            </tr>

          </tbody>
        
      </table>

    </p>
  </div>

  
  <div class="refsect1 returnvalues" id="refsect1-function.db2-set-option-returnvalues">
    <h3 class="title">Return Values</h3>
    <p class="para">
     Returns <strong><code>TRUE</code></strong> on success or <strong><code>FALSE</code></strong> on failure.
    </p>
  </div>

  
  
  
  <div class="refsect1 examples" id="refsect1-function.db2-set-option-examples">
    <h3 class="title">Examples</h3>
    <p class="para">

      <div class="example" id="example-1273">
        <p><strong>Example #1 Setting one parameter with a connection resource</strong></p>
        <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">/*&#xA0;Database&#xA0;Connection&#xA0;Parameters&#xA0;*/<br></span><span style="color: #0000BB">$database&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #DD0000">&apos;SAMPLE&apos;</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$hostname&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #DD0000">&apos;localhost&apos;</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$port&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">50000</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$protocol&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #DD0000">&apos;TCPIP&apos;</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$username&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #DD0000">&apos;db2inst1&apos;</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$password&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #DD0000">&apos;ibmdb2&apos;</span><span style="color: #007700">;<br><br></span><span style="color: #FF8000">/*&#xA0;Connection&#xA0;String&#xA0;*/<br></span><span style="color: #0000BB">$conn_string&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #DD0000">&quot;DRIVER={IBM&#xA0;DB2&#xA0;ODBC&#xA0;DRIVER};DATABASE=</span><span style="color: #0000BB">$database</span><span style="color: #DD0000">;&quot;</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$conn_string&#xA0;</span><span style="color: #007700">.=&#xA0;</span><span style="color: #DD0000">&quot;HOSTNAME=</span><span style="color: #0000BB">$hostname</span><span style="color: #DD0000">;PORT=</span><span style="color: #0000BB">$port</span><span style="color: #DD0000">;PROTOCOL=</span><span style="color: #0000BB">$protocol</span><span style="color: #DD0000">;&quot;</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$conn_string&#xA0;</span><span style="color: #007700">.=&#xA0;</span><span style="color: #DD0000">&quot;UID=</span><span style="color: #0000BB">$username</span><span style="color: #DD0000">;PWD=</span><span style="color: #0000BB">$password</span><span style="color: #DD0000">;&quot;</span><span style="color: #007700">;<br><br></span><span style="color: #FF8000">/*&#xA0;Obtain&#xA0;Connection&#xA0;Resource&#xA0;*/<br></span><span style="color: #0000BB">$conn&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">db2_connect</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn_string</span><span style="color: #007700">,&#xA0;</span><span style="color: #DD0000">&apos;&apos;</span><span style="color: #007700">,&#xA0;</span><span style="color: #DD0000">&apos;&apos;</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&#xA0;Create&#xA0;the&#xA0;associative&#xA0;options&#xA0;array&#xA0;with&#xA0;valid&#xA0;key-value&#xA0;pairs&#xA0;*/<br></span><span style="color: #0000BB">$options&#xA0;</span><span style="color: #007700">=&#xA0;array(</span><span style="color: #DD0000">&apos;autocommit&apos;&#xA0;</span><span style="color: #007700">=&gt;&#xA0;</span><span style="color: #0000BB">DB2_AUTOCOMMIT_ON</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&#xA0;Call&#xA0;the&#xA0;function&#xA0;using&#xA0;the&#xA0;correct&#xA0;resource,&#xA0;options&#xA0;array,&#xA0;and&#xA0;type&#xA0;values&#xA0;*/<br></span><span style="color: #0000BB">$result&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">db2_set_option</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">$options</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&#xA0;Check&#xA0;if&#xA0;all&#xA0;options&#xA0;could&#xA0;be&#xA0;set&#xA0;correctly&#xA0;*/<br></span><span style="color: #007700">if(</span><span style="color: #0000BB">$result</span><span style="color: #007700">)<br>{<br>&#xA0;&#xA0;echo&#xA0;</span><span style="color: #DD0000">&apos;Options&#xA0;Set&#xA0;Successfully&apos;</span><span style="color: #007700">;<br>}<br>else<br>{<br>&#xA0;&#xA0;echo&#xA0;</span><span style="color: #DD0000">&apos;Could&#xA0;Not&#xA0;Set&#xA0;Options&apos;</span><span style="color: #007700">;<br>}<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
        </div>

        <div class="example-contents"><p>The above example will output:</p></div>
        <div class="example-contents screen"><div class="cdata"><pre>Options Set Successfully</pre></div></div>
      </div>

      <div class="example" id="example-1274">
        <p><strong>Example #2 Setting multiple parameters with a connection resource</strong></p>
        <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">/*&#xA0;Database&#xA0;Connection&#xA0;Parameters&#xA0;*/<br></span><span style="color: #0000BB">$database&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #DD0000">&apos;SAMPLE&apos;</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$hostname&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #DD0000">&apos;localhost&apos;</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$port&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">50000</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$protocol&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #DD0000">&apos;TCPIP&apos;</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$username&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #DD0000">&apos;db2inst1&apos;</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$password&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #DD0000">&apos;ibmdb2&apos;</span><span style="color: #007700">;<br><br></span><span style="color: #FF8000">/*&#xA0;Connection&#xA0;String&#xA0;*/<br></span><span style="color: #0000BB">$conn_string&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #DD0000">&quot;DRIVER={IBM&#xA0;DB2&#xA0;ODBC&#xA0;DRIVER};DATABASE=</span><span style="color: #0000BB">$database</span><span style="color: #DD0000">;&quot;</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$conn_string&#xA0;</span><span style="color: #007700">.=&#xA0;</span><span style="color: #DD0000">&quot;HOSTNAME=</span><span style="color: #0000BB">$hostname</span><span style="color: #DD0000">;PORT=</span><span style="color: #0000BB">$port</span><span style="color: #DD0000">;PROTOCOL=</span><span style="color: #0000BB">$protocol</span><span style="color: #DD0000">;&quot;</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$conn_string&#xA0;</span><span style="color: #007700">.=&#xA0;</span><span style="color: #DD0000">&quot;UID=</span><span style="color: #0000BB">$username</span><span style="color: #DD0000">;PWD=</span><span style="color: #0000BB">$password</span><span style="color: #DD0000">;&quot;</span><span style="color: #007700">;<br><br></span><span style="color: #FF8000">/*&#xA0;Obtain&#xA0;Connection&#xA0;Resource&#xA0;*/<br></span><span style="color: #0000BB">$conn&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">db2_connect</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn_string</span><span style="color: #007700">,&#xA0;</span><span style="color: #DD0000">&apos;&apos;</span><span style="color: #007700">,&#xA0;</span><span style="color: #DD0000">&apos;&apos;</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&#xA0;Create&#xA0;the&#xA0;associative&#xA0;options&#xA0;array&#xA0;with&#xA0;valid&#xA0;key-value&#xA0;pairs&#xA0;*/<br></span><span style="color: #0000BB">$options&#xA0;</span><span style="color: #007700">=&#xA0;array(</span><span style="color: #DD0000">&apos;autocommit&apos;&#xA0;</span><span style="color: #007700">=&gt;&#xA0;</span><span style="color: #0000BB">DB2_AUTOCOMMIT_OFF</span><span style="color: #007700">,&#xA0;<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #DD0000">&apos;binmode&apos;&#xA0;</span><span style="color: #007700">=&gt;&#xA0;</span><span style="color: #0000BB">DB2_PASSTHRU</span><span style="color: #007700">,<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #DD0000">&apos;db2_attr_case&apos;&#xA0;</span><span style="color: #007700">=&gt;&#xA0;</span><span style="color: #0000BB">DB2_CASE_UPPER</span><span style="color: #007700">,<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #DD0000">&apos;cursor&apos;&#xA0;</span><span style="color: #007700">=&gt;&#xA0;</span><span style="color: #0000BB">DB2_SCROLLABLE</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&#xA0;Call&#xA0;the&#xA0;function&#xA0;using&#xA0;the&#xA0;correct&#xA0;resource,&#xA0;options&#xA0;array,&#xA0;and&#xA0;type&#xA0;values&#xA0;*/<br></span><span style="color: #0000BB">$result&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">db2_set_option</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">$options</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&#xA0;Check&#xA0;if&#xA0;all&#xA0;options&#xA0;could&#xA0;be&#xA0;set&#xA0;correctly&#xA0;*/<br></span><span style="color: #007700">if(</span><span style="color: #0000BB">$result</span><span style="color: #007700">)<br>{<br>&#xA0;&#xA0;echo&#xA0;</span><span style="color: #DD0000">&apos;Options&#xA0;Set&#xA0;Successfully&apos;</span><span style="color: #007700">;<br>}<br>else<br>{<br>&#xA0;&#xA0;echo&#xA0;</span><span style="color: #DD0000">&apos;Could&#xA0;Not&#xA0;Set&#xA0;Options&apos;</span><span style="color: #007700">;<br>}<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
        </div>

        <div class="example-contents"><p>The above example will output:</p></div>
        <div class="example-contents screen"><div class="cdata"><pre>Options Set Successfully</pre></div></div>
      </div>

      
      <div class="example" id="example-1275">
        <p><strong>Example #3 Setting multiple parameters with an invalid key</strong></p>
        <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">/*&#xA0;Database&#xA0;Connection&#xA0;Parameters&#xA0;*/<br></span><span style="color: #0000BB">$database&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #DD0000">&apos;SAMPLE&apos;</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$hostname&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #DD0000">&apos;localhost&apos;</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$port&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">50000</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$protocol&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #DD0000">&apos;TCPIP&apos;</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$username&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #DD0000">&apos;db2inst1&apos;</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$password&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #DD0000">&apos;ibmdb2&apos;</span><span style="color: #007700">;<br><br></span><span style="color: #FF8000">/*&#xA0;Connection&#xA0;String&#xA0;*/<br></span><span style="color: #0000BB">$conn_string&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #DD0000">&quot;DRIVER={IBM&#xA0;DB2&#xA0;ODBC&#xA0;DRIVER};DATABASE=</span><span style="color: #0000BB">$database</span><span style="color: #DD0000">;&quot;</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$conn_string&#xA0;</span><span style="color: #007700">.=&#xA0;</span><span style="color: #DD0000">&quot;HOSTNAME=</span><span style="color: #0000BB">$hostname</span><span style="color: #DD0000">;PORT=</span><span style="color: #0000BB">$port</span><span style="color: #DD0000">;PROTOCOL=</span><span style="color: #0000BB">$protocol</span><span style="color: #DD0000">;&quot;</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$conn_string&#xA0;</span><span style="color: #007700">.=&#xA0;</span><span style="color: #DD0000">&quot;UID=</span><span style="color: #0000BB">$username</span><span style="color: #DD0000">;PWD=</span><span style="color: #0000BB">$password</span><span style="color: #DD0000">;&quot;</span><span style="color: #007700">;<br><br></span><span style="color: #FF8000">/*&#xA0;Obtain&#xA0;Connection&#xA0;Resource&#xA0;*/<br></span><span style="color: #0000BB">$conn&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">db2_connect</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn_string</span><span style="color: #007700">,&#xA0;</span><span style="color: #DD0000">&apos;&apos;</span><span style="color: #007700">,&#xA0;</span><span style="color: #DD0000">&apos;&apos;</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&#xA0;Create&#xA0;the&#xA0;associative&#xA0;options&#xA0;array&#xA0;with&#xA0;valid&#xA0;key-value&#xA0;pairs&#xA0;*/<br></span><span style="color: #0000BB">$options&#xA0;</span><span style="color: #007700">=&#xA0;array(</span><span style="color: #DD0000">&apos;autocommit&apos;&#xA0;</span><span style="color: #007700">=&gt;&#xA0;</span><span style="color: #0000BB">DB2_AUTOCOMMIT_OFF</span><span style="color: #007700">,&#xA0;<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #DD0000">&apos;MY_INVALID_KEY&apos;&#xA0;</span><span style="color: #007700">=&gt;&#xA0;</span><span style="color: #0000BB">DB2_PASSTHRU</span><span style="color: #007700">,<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #DD0000">&apos;db2_attr_case&apos;&#xA0;</span><span style="color: #007700">=&gt;&#xA0;</span><span style="color: #0000BB">DB2_CASE_UPPER</span><span style="color: #007700">,<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #DD0000">&apos;cursor&apos;&#xA0;</span><span style="color: #007700">=&gt;&#xA0;</span><span style="color: #0000BB">DB2_SCROLLABLE</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&#xA0;Call&#xA0;the&#xA0;function&#xA0;using&#xA0;the&#xA0;correct&#xA0;resource,&#xA0;options&#xA0;array,&#xA0;and&#xA0;type&#xA0;values&#xA0;*/<br></span><span style="color: #0000BB">$result&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">db2_set_option</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">$options</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&#xA0;Check&#xA0;if&#xA0;all&#xA0;options&#xA0;could&#xA0;be&#xA0;set&#xA0;correctly&#xA0;*/<br></span><span style="color: #007700">if(</span><span style="color: #0000BB">$result</span><span style="color: #007700">)<br>{<br>&#xA0;&#xA0;echo&#xA0;</span><span style="color: #DD0000">&apos;Options&#xA0;Set&#xA0;Successfully&apos;</span><span style="color: #007700">;<br>}<br>else<br>{<br>&#xA0;&#xA0;echo&#xA0;</span><span style="color: #DD0000">&apos;Could&#xA0;Not&#xA0;Set&#xA0;Options&apos;</span><span style="color: #007700">;<br>}<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
        </div>

        <div class="example-contents"><p>The above example will output:</p></div>
        <div class="example-contents screen"><div class="cdata"><pre>Could Not Set Options</pre></div></div>
      </div>

      
      <div class="example" id="example-1276">
        <p><strong>Example #4 Setting multiple parameters with an invalid value</strong></p>
        <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">/*&#xA0;Database&#xA0;Connection&#xA0;Parameters&#xA0;*/<br></span><span style="color: #0000BB">$database&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #DD0000">&apos;SAMPLE&apos;</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$hostname&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #DD0000">&apos;localhost&apos;</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$port&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">50000</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$protocol&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #DD0000">&apos;TCPIP&apos;</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$username&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #DD0000">&apos;db2inst1&apos;</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$password&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #DD0000">&apos;ibmdb2&apos;</span><span style="color: #007700">;<br><br></span><span style="color: #FF8000">/*&#xA0;Connection&#xA0;String&#xA0;*/<br></span><span style="color: #0000BB">$conn_string&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #DD0000">&quot;DRIVER={IBM&#xA0;DB2&#xA0;ODBC&#xA0;DRIVER};DATABASE=</span><span style="color: #0000BB">$database</span><span style="color: #DD0000">;&quot;</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$conn_string&#xA0;</span><span style="color: #007700">.=&#xA0;</span><span style="color: #DD0000">&quot;HOSTNAME=</span><span style="color: #0000BB">$hostname</span><span style="color: #DD0000">;PORT=</span><span style="color: #0000BB">$port</span><span style="color: #DD0000">;PROTOCOL=</span><span style="color: #0000BB">$protocol</span><span style="color: #DD0000">;&quot;</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$conn_string&#xA0;</span><span style="color: #007700">.=&#xA0;</span><span style="color: #DD0000">&quot;UID=</span><span style="color: #0000BB">$username</span><span style="color: #DD0000">;PWD=</span><span style="color: #0000BB">$password</span><span style="color: #DD0000">;&quot;</span><span style="color: #007700">;<br><br></span><span style="color: #FF8000">/*&#xA0;Obtain&#xA0;Connection&#xA0;Resource&#xA0;*/<br></span><span style="color: #0000BB">$conn&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">db2_connect</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn_string</span><span style="color: #007700">,&#xA0;</span><span style="color: #DD0000">&apos;&apos;</span><span style="color: #007700">,&#xA0;</span><span style="color: #DD0000">&apos;&apos;</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&#xA0;Create&#xA0;the&#xA0;associative&#xA0;options&#xA0;array&#xA0;with&#xA0;valid&#xA0;key-value&#xA0;pairs&#xA0;*/<br></span><span style="color: #0000BB">$options&#xA0;</span><span style="color: #007700">=&#xA0;array(</span><span style="color: #DD0000">&apos;autocommit&apos;&#xA0;</span><span style="color: #007700">=&gt;&#xA0;</span><span style="color: #0000BB">DB2_AUTOCOMMIT_OFF</span><span style="color: #007700">,&#xA0;<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #DD0000">&apos;binmode&apos;&#xA0;</span><span style="color: #007700">=&gt;&#xA0;</span><span style="color: #DD0000">&apos;INVALID_VALUE&apos;</span><span style="color: #007700">,<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #DD0000">&apos;db2_attr_case&apos;&#xA0;</span><span style="color: #007700">=&gt;&#xA0;</span><span style="color: #0000BB">DB2_CASE_UPPER</span><span style="color: #007700">,<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #DD0000">&apos;cursor&apos;&#xA0;</span><span style="color: #007700">=&gt;&#xA0;</span><span style="color: #0000BB">DB2_SCROLLABLE</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&#xA0;Call&#xA0;the&#xA0;function&#xA0;using&#xA0;the&#xA0;correct&#xA0;resource,&#xA0;options&#xA0;array,&#xA0;and&#xA0;type&#xA0;values&#xA0;*/<br></span><span style="color: #0000BB">$result&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">db2_set_option</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">$options</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&#xA0;Check&#xA0;if&#xA0;all&#xA0;options&#xA0;could&#xA0;be&#xA0;set&#xA0;correctly&#xA0;*/<br></span><span style="color: #007700">if(</span><span style="color: #0000BB">$result</span><span style="color: #007700">)<br>{<br>&#xA0;&#xA0;echo&#xA0;</span><span style="color: #DD0000">&apos;Options&#xA0;Set&#xA0;Successfully&apos;</span><span style="color: #007700">;<br>}<br>else<br>{<br>&#xA0;&#xA0;echo&#xA0;</span><span style="color: #DD0000">&apos;Could&#xA0;Not&#xA0;Set&#xA0;Options&apos;</span><span style="color: #007700">;<br>}<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
        </div>

        <div class="example-contents"><p>The above example will output:</p></div>
        <div class="example-contents screen"><div class="cdata"><pre>Could Not Set Options</pre></div></div>
      </div>

      <div class="example" id="db2-last-insert-id.example.basic">
        <p><strong>Example #5 Setting multiple parameters with a connection resource and the wrong type</strong></p>
        <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">/*&#xA0;Database&#xA0;Connection&#xA0;Parameters&#xA0;*/<br></span><span style="color: #0000BB">$database&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #DD0000">&apos;SAMPLE&apos;</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$hostname&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #DD0000">&apos;localhost&apos;</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$port&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">50000</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$protocol&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #DD0000">&apos;TCPIP&apos;</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$username&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #DD0000">&apos;db2inst1&apos;</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$password&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #DD0000">&apos;ibmdb2&apos;</span><span style="color: #007700">;<br><br></span><span style="color: #FF8000">/*&#xA0;Connection&#xA0;String&#xA0;*/<br></span><span style="color: #0000BB">$conn_string&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #DD0000">&quot;DRIVER={IBM&#xA0;DB2&#xA0;ODBC&#xA0;DRIVER};DATABASE=</span><span style="color: #0000BB">$database</span><span style="color: #DD0000">;&quot;</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$conn_string&#xA0;</span><span style="color: #007700">.=&#xA0;</span><span style="color: #DD0000">&quot;HOSTNAME=</span><span style="color: #0000BB">$hostname</span><span style="color: #DD0000">;PORT=</span><span style="color: #0000BB">$port</span><span style="color: #DD0000">;PROTOCOL=</span><span style="color: #0000BB">$protocol</span><span style="color: #DD0000">;&quot;</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$conn_string&#xA0;</span><span style="color: #007700">.=&#xA0;</span><span style="color: #DD0000">&quot;UID=</span><span style="color: #0000BB">$username</span><span style="color: #DD0000">;PWD=</span><span style="color: #0000BB">$password</span><span style="color: #DD0000">;&quot;</span><span style="color: #007700">;<br><br></span><span style="color: #FF8000">/*&#xA0;Obtain&#xA0;Connection&#xA0;Resource&#xA0;*/<br></span><span style="color: #0000BB">$conn&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">db2_connect</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn_string</span><span style="color: #007700">,&#xA0;</span><span style="color: #DD0000">&apos;&apos;</span><span style="color: #007700">,&#xA0;</span><span style="color: #DD0000">&apos;&apos;</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&#xA0;Create&#xA0;the&#xA0;associative&#xA0;options&#xA0;array&#xA0;with&#xA0;valid&#xA0;key-value&#xA0;pairs&#xA0;*/<br></span><span style="color: #0000BB">$options&#xA0;</span><span style="color: #007700">=&#xA0;array(</span><span style="color: #DD0000">&apos;autocommit&apos;&#xA0;</span><span style="color: #007700">=&gt;&#xA0;</span><span style="color: #0000BB">DB2_AUTOCOMMIT_OFF</span><span style="color: #007700">,&#xA0;<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #DD0000">&apos;binmode&apos;&#xA0;</span><span style="color: #007700">=&gt;&#xA0;</span><span style="color: #0000BB">DB2_PASSTHRU</span><span style="color: #007700">,<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #DD0000">&apos;db2_attr_case&apos;&#xA0;</span><span style="color: #007700">=&gt;&#xA0;</span><span style="color: #0000BB">DB2_CASE_UPPER</span><span style="color: #007700">,<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #DD0000">&apos;cursor&apos;&#xA0;</span><span style="color: #007700">=&gt;&#xA0;</span><span style="color: #0000BB">DB2_SCROLLABLE</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&#xA0;Call&#xA0;the&#xA0;function&#xA0;using&#xA0;the&#xA0;correct&#xA0;resource,&#xA0;options&#xA0;array,&#xA0;and&#xA0;the&#xA0;wrong&#xA0;type&#xA0;value&#xA0;*/<br></span><span style="color: #0000BB">$result&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">db2_set_option</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">$options</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">2</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&#xA0;Check&#xA0;if&#xA0;all&#xA0;options&#xA0;could&#xA0;be&#xA0;set&#xA0;correctly&#xA0;*/<br></span><span style="color: #007700">if(</span><span style="color: #0000BB">$result</span><span style="color: #007700">)<br>{<br>&#xA0;&#xA0;echo&#xA0;</span><span style="color: #DD0000">&apos;Options&#xA0;Set&#xA0;Successfully&apos;</span><span style="color: #007700">;<br>}<br>else<br>{<br>&#xA0;&#xA0;echo&#xA0;</span><span style="color: #DD0000">&apos;Could&#xA0;Not&#xA0;Set&#xA0;Options&apos;</span><span style="color: #007700">;<br>}<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
        </div>

        <div class="example-contents"><p>The above example will output:</p></div>
        <div class="example-contents screen"><div class="cdata"><pre>Could Not Set Options</pre></div></div>
      </div>

      <div class="example" id="example-1278">
        <p><strong>Example #6 Setting multiple parameters with the wrong resource</strong></p>
        <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">/*&#xA0;Database&#xA0;Connection&#xA0;Parameters&#xA0;*/<br></span><span style="color: #0000BB">$database&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #DD0000">&apos;SAMPLE&apos;</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$hostname&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #DD0000">&apos;localhost&apos;</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$port&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">50000</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$protocol&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #DD0000">&apos;TCPIP&apos;</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$username&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #DD0000">&apos;db2inst1&apos;</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$password&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #DD0000">&apos;ibmdb2&apos;</span><span style="color: #007700">;<br><br></span><span style="color: #FF8000">/*&#xA0;Connection&#xA0;String&#xA0;*/<br></span><span style="color: #0000BB">$conn_string&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #DD0000">&quot;DRIVER={IBM&#xA0;DB2&#xA0;ODBC&#xA0;DRIVER};DATABASE=</span><span style="color: #0000BB">$database</span><span style="color: #DD0000">;&quot;</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$conn_string&#xA0;</span><span style="color: #007700">.=&#xA0;</span><span style="color: #DD0000">&quot;HOSTNAME=</span><span style="color: #0000BB">$hostname</span><span style="color: #DD0000">;PORT=</span><span style="color: #0000BB">$port</span><span style="color: #DD0000">;PROTOCOL=</span><span style="color: #0000BB">$protocol</span><span style="color: #DD0000">;&quot;</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$conn_string&#xA0;</span><span style="color: #007700">.=&#xA0;</span><span style="color: #DD0000">&quot;UID=</span><span style="color: #0000BB">$username</span><span style="color: #DD0000">;PWD=</span><span style="color: #0000BB">$password</span><span style="color: #DD0000">;&quot;</span><span style="color: #007700">;<br><br></span><span style="color: #FF8000">/*&#xA0;Obtain&#xA0;Connection&#xA0;Resource&#xA0;*/<br></span><span style="color: #0000BB">$conn&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">db2_connect</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn_string</span><span style="color: #007700">,&#xA0;</span><span style="color: #DD0000">&apos;&apos;</span><span style="color: #007700">,&#xA0;</span><span style="color: #DD0000">&apos;&apos;</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&#xA0;Create&#xA0;the&#xA0;associative&#xA0;options&#xA0;array&#xA0;with&#xA0;valid&#xA0;key-value&#xA0;pairs&#xA0;*/<br></span><span style="color: #0000BB">$options&#xA0;</span><span style="color: #007700">=&#xA0;array(</span><span style="color: #DD0000">&apos;autocommit&apos;&#xA0;</span><span style="color: #007700">=&gt;&#xA0;</span><span style="color: #0000BB">DB2_AUTOCOMMIT_OFF</span><span style="color: #007700">,&#xA0;<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #DD0000">&apos;binmode&apos;&#xA0;</span><span style="color: #007700">=&gt;&#xA0;</span><span style="color: #0000BB">DB2_PASSTHRU</span><span style="color: #007700">,<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #DD0000">&apos;db2_attr_case&apos;&#xA0;</span><span style="color: #007700">=&gt;&#xA0;</span><span style="color: #0000BB">DB2_CASE_UPPER</span><span style="color: #007700">,<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #DD0000">&apos;cursor&apos;&#xA0;</span><span style="color: #007700">=&gt;&#xA0;</span><span style="color: #0000BB">DB2_SCROLLABLE</span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">$stmt&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">db2_prepare</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn</span><span style="color: #007700">,&#xA0;</span><span style="color: #DD0000">&apos;SELECT&#xA0;*&#xA0;FROM&#xA0;EMPLOYEE&apos;</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&#xA0;Call&#xA0;the&#xA0;function&#xA0;using&#xA0;the&#xA0;wrong&#xA0;resource,&#xA0;and&#xA0;the&#xA0;correct&#xA0;options&#xA0;array,&#xA0;and&#xA0;type&#xA0;values&#xA0;*/<br></span><span style="color: #0000BB">$result&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">db2_set_option</span><span style="color: #007700">(</span><span style="color: #0000BB">$stmt</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">$options</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&#xA0;Check&#xA0;if&#xA0;all&#xA0;options&#xA0;could&#xA0;be&#xA0;set&#xA0;correctly&#xA0;*/<br></span><span style="color: #007700">if(</span><span style="color: #0000BB">$result</span><span style="color: #007700">)<br>{<br>&#xA0;&#xA0;echo&#xA0;</span><span style="color: #DD0000">&apos;Options&#xA0;Set&#xA0;Successfully&apos;</span><span style="color: #007700">;<br>}<br>else<br>{<br>&#xA0;&#xA0;echo&#xA0;</span><span style="color: #DD0000">&apos;Could&#xA0;Not&#xA0;Set&#xA0;Options&apos;</span><span style="color: #007700">;<br>}<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
        </div>

        <div class="example-contents"><p>The above example will output:</p></div>
        <div class="example-contents screen"><div class="cdata"><pre>Could Not Set Options</pre></div></div>
      </div>

      <div class="example" id="example-1279">
        <p><strong>Example #7 Putting it all together</strong></p>
        <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">/*&#xA0;Database&#xA0;Connection&#xA0;Parameters&#xA0;*/<br></span><span style="color: #0000BB">$database&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #DD0000">&apos;SAMPLE&apos;</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$hostname&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #DD0000">&apos;localhost&apos;</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$port&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">50000</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$protocol&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #DD0000">&apos;TCPIP&apos;</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$username&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #DD0000">&apos;db2inst1&apos;</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$password&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #DD0000">&apos;ibmdb2&apos;</span><span style="color: #007700">;<br><br></span><span style="color: #FF8000">/*&#xA0;Connection&#xA0;String&#xA0;*/<br></span><span style="color: #0000BB">$conn_string&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #DD0000">&quot;DRIVER={IBM&#xA0;DB2&#xA0;ODBC&#xA0;DRIVER};DATABASE=</span><span style="color: #0000BB">$database</span><span style="color: #DD0000">;&quot;</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$conn_string&#xA0;</span><span style="color: #007700">.=&#xA0;</span><span style="color: #DD0000">&quot;HOSTNAME=</span><span style="color: #0000BB">$hostname</span><span style="color: #DD0000">;PORT=</span><span style="color: #0000BB">$port</span><span style="color: #DD0000">;PROTOCOL=</span><span style="color: #0000BB">$protocol</span><span style="color: #DD0000">;&quot;</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$conn_string&#xA0;</span><span style="color: #007700">.=&#xA0;</span><span style="color: #DD0000">&quot;UID=</span><span style="color: #0000BB">$username</span><span style="color: #DD0000">;PWD=</span><span style="color: #0000BB">$password</span><span style="color: #DD0000">;&quot;</span><span style="color: #007700">;<br><br></span><span style="color: #FF8000">/*&#xA0;Obtain&#xA0;Connection&#xA0;Resource&#xA0;*/<br></span><span style="color: #0000BB">$conn&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">db2_connect</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn_string</span><span style="color: #007700">,&#xA0;</span><span style="color: #DD0000">&apos;&apos;</span><span style="color: #007700">,&#xA0;</span><span style="color: #DD0000">&apos;&apos;</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&#xA0;Create&#xA0;the&#xA0;associative&#xA0;options&#xA0;array&#xA0;with&#xA0;valid&#xA0;key-value&#xA0;pairs&#xA0;*/<br></span><span style="color: #0000BB">$options&#xA0;</span><span style="color: #007700">=&#xA0;array(</span><span style="color: #DD0000">&apos;db2_attr_case&apos;&#xA0;</span><span style="color: #007700">=&gt;&#xA0;</span><span style="color: #0000BB">DB2_CASE_LOWER</span><span style="color: #007700">,<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #DD0000">&apos;cursor&apos;&#xA0;</span><span style="color: #007700">=&gt;&#xA0;</span><span style="color: #0000BB">DB2_SCROLLABLE</span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">$stmt&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">db2_prepare</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn</span><span style="color: #007700">,&#xA0;</span><span style="color: #DD0000">&apos;SELECT&#xA0;*&#xA0;FROM&#xA0;EMPLOYEE&#xA0;WHERE&#xA0;EMPNO&#xA0;=&#xA0;?&#xA0;OR&#xA0;EMPNO&#xA0;=&#xA0;?&apos;</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&#xA0;Call&#xA0;the&#xA0;function&#xA0;using&#xA0;the&#xA0;correct&#xA0;resource,&#xA0;options&#xA0;array,&#xA0;and&#xA0;type&#xA0;values&#xA0;*/<br></span><span style="color: #0000BB">$option_result&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">db2_set_option</span><span style="color: #007700">(</span><span style="color: #0000BB">$stmt</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">$options</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">2</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$result&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">db2_execute</span><span style="color: #007700">(</span><span style="color: #0000BB">$stmt</span><span style="color: #007700">,&#xA0;array(</span><span style="color: #DD0000">&apos;000130&apos;</span><span style="color: #007700">,&#xA0;</span><span style="color: #DD0000">&apos;000140&apos;</span><span style="color: #007700">));<br><br></span><span style="color: #FF8000">/*&#xA0;Get&#xA0;Row&#xA0;2&#xA0;before&#xA0;Row&#xA0;1&#xA0;since&#xA0;Scrollable&#xA0;Cursor&#xA0;*/<br></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">db2_fetch_assoc</span><span style="color: #007700">(</span><span style="color: #0000BB">$stmt</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">2</span><span style="color: #007700">));<br>print&#xA0;</span><span style="color: #DD0000">&apos;&lt;br&#xA0;/&gt;&lt;br&#xA0;/&gt;&apos;</span><span style="color: #007700">;<br></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">db2_fetch_assoc</span><span style="color: #007700">(</span><span style="color: #0000BB">$stmt</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">1</span><span style="color: #007700">));<br><br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
        </div>

        <div class="example-contents"><p>The above example will output:</p></div>
        <div class="example-contents screen"><div class="cdata"><pre>Array
(
    [empno] =&gt; 000140
    [firstnme] =&gt; HEATHER
    [midinit] =&gt; A
    [lastname] =&gt; NICHOLLS
    [workdept] =&gt; C01
    [phoneno] =&gt; 1793
    [hiredate] =&gt; 1976-12-15
    [job] =&gt; ANALYST
    [edlevel] =&gt; 18
    [sex] =&gt; F
    [birthdate] =&gt; 1946-01-19
    [salary] =&gt; 28420.00
    [bonus] =&gt; 600.00
    [comm] =&gt; 2274.00
)

Array
(
    [empno] =&gt; 000130
    [firstnme] =&gt; DELORES
    [midinit] =&gt; M
    [lastname] =&gt; QUINTANA
    [workdept] =&gt; C01
    [phoneno] =&gt; 4578
    [hiredate] =&gt; 1971-07-28
    [job] =&gt; ANALYST
    [edlevel] =&gt; 16
    [sex] =&gt; F
    [birthdate] =&gt; 1925-09-15
    [salary] =&gt; 23800.00
    [bonus] =&gt; 500.00
    [comm] =&gt; 1904.00
)</pre></div></div>
      </div>
      <div class="example" id="example-1280">
        <p><strong>Example #8 i5/OS cursors are read-only</strong></p>
        <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>&#xA0;&#xA0;$conn&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">db2_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">&quot;&quot;</span><span style="color: #007700">,&#xA0;</span><span style="color: #DD0000">&quot;&quot;</span><span style="color: #007700">,&#xA0;</span><span style="color: #DD0000">&quot;&quot;</span><span style="color: #007700">,&#xA0;array(</span><span style="color: #DD0000">&quot;i5_lib&quot;</span><span style="color: #007700">=&gt;</span><span style="color: #DD0000">&quot;nobody&quot;</span><span style="color: #007700">));<br>&#xA0;&#xA0;</span><span style="color: #0000BB">$stmt&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">db2_prepare</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn</span><span style="color: #007700">,&#xA0;</span><span style="color: #DD0000">&apos;select&#xA0;*&#xA0;from&#xA0;names&#xA0;where&#xA0;first&#xA0;=&#xA0;?&apos;</span><span style="color: #007700">);<br>&#xA0;&#xA0;</span><span style="color: #0000BB">$name&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #DD0000">&quot;first2&quot;</span><span style="color: #007700">;<br>&#xA0;&#xA0;</span><span style="color: #0000BB">db2_bind_param</span><span style="color: #007700">(</span><span style="color: #0000BB">$stmt</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&#xA0;</span><span style="color: #DD0000">&quot;name&quot;</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">DB2_PARAM_IN</span><span style="color: #007700">);<br>&#xA0;&#xA0;</span><span style="color: #0000BB">$options&#xA0;</span><span style="color: #007700">=&#xA0;array(</span><span style="color: #DD0000">&quot;i5_fetch_only&quot;</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">DB2_I5_FETCH_ON</span><span style="color: #007700">);<br>&#xA0;&#xA0;</span><span style="color: #0000BB">db2_set_option</span><span style="color: #007700">(</span><span style="color: #0000BB">$stmt</span><span style="color: #007700">,</span><span style="color: #0000BB">$options</span><span style="color: #007700">,</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br>&#xA0;&#xA0;if&#xA0;(</span><span style="color: #0000BB">db2_execute</span><span style="color: #007700">(</span><span style="color: #0000BB">$stmt</span><span style="color: #007700">))&#xA0;{<br>&#xA0;&#xA0;&#xA0;&#xA0;while&#xA0;(</span><span style="color: #0000BB">$row&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">db2_fetch_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$stmt</span><span style="color: #007700">))&#xA0;{<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;echo&#xA0;</span><span style="color: #DD0000">&quot;</span><span style="color: #007700">{</span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]}</span><span style="color: #DD0000">&#xA0;</span><span style="color: #007700">{</span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">]}</span><span style="color: #DD0000">&quot;</span><span style="color: #007700">;<br>&#xA0;&#xA0;&#xA0;&#xA0;}<br>&#xA0;&#xA0;}<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
        </div>

        <div class="example-contents"><p>The above example will output:</p></div>
        <div class="example-contents screen">
<div class="cdata"><pre>
first2 last2
</pre></div>
        </div>
      </div>
    </p>
  </div>

  <div class="refsect1 seealso" id="refsect1-function.db2-set-option-seealso">
    <h3 class="title">See Also</h3>
    <p class="para">
      <ul class="simplelist">
        <li class="member"><span class="function"><a href="function.db2-connect.html" class="function" rel="rdfs-seeAlso">db2_connect()</a> - Returns a connection to a database</span></li>
        <li class="member"><span class="function"><a href="function.db2-pconnect.html" class="function" rel="rdfs-seeAlso">db2_pconnect()</a> - Returns a persistent connection to a database</span></li>
        <li class="member"><span class="function"><a href="function.db2-exec.html" class="function" rel="rdfs-seeAlso">db2_exec()</a> - Executes an SQL statement directly</span></li>
        <li class="member"><span class="function"><a href="function.db2-prepare.html" class="function" rel="rdfs-seeAlso">db2_prepare()</a> - Prepares an SQL statement to be executed</span></li>
        <li class="member"><span class="function"><a href="function.db2-cursor-type.html" class="function" rel="rdfs-seeAlso">db2_cursor_type()</a> - Returns the cursor type used by a statement resource</span></li>
      </ul>
    </p>
  </div>

