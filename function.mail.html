---
layout: default
---

 <div class="refnamediv">
  <h1 class="refname">mail</h1>
  <p class="verinfo">(PHP 4, PHP 5, PHP 7)</p><p class="refpurpose"><span class="refname">mail</span> &#x2014; <span class="dc-title">Send mail</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.mail-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">bool</span> <span class="methodname"><strong>mail</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$to</code></span>
   , <span class="methodparam"><span class="type">string</span> <code class="parameter">$subject</code></span>
   , <span class="methodparam"><span class="type">string</span> <code class="parameter">$message</code></span>
   [, <span class="methodparam"><span class="type">string</span> <code class="parameter">$additional_headers</code></span>
   [, <span class="methodparam"><span class="type">string</span> <code class="parameter">$additional_parameters</code></span>
  ]] )</div>

  <p class="para rdfs-comment">
   Sends an email.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.mail-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">to</code></dt>

     <dd>

      <p class="para">
       Receiver, or receivers of the mail.
      </p>
      <p class="para">
       The formatting of this string must comply with
       <a href="http://www.faqs.org/rfcs/rfc2822" class="link external">&#xBB;&#xA0;RFC 2822</a>. Some examples are:
       <ul class="simplelist">
        <li class="member">user@example.com</li>
        <li class="member">user@example.com, anotheruser@example.com</li>
        <li class="member">User &lt;user@example.com&gt;</li>
        <li class="member">User &lt;user@example.com&gt;, Another User &lt;anotheruser@example.com&gt;</li>
       </ul>
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">subject</code></dt>

     <dd>

      <p class="para">
       Subject of the email to be sent.
      </p>
      <div class="caution"><strong class="caution">Caution</strong>
       <p class="para">
        Subject must satisfy <a href="http://www.faqs.org/rfcs/rfc2047" class="link external">&#xBB;&#xA0;RFC 2047</a>.
       </p>
      </div>
     </dd>

    
    
     <dt>
<code class="parameter">message</code></dt>

     <dd>

      <p class="para">
       Message to be sent.
      </p>
      <p class="para">
       Each line should be separated with a CRLF (\r\n). Lines should not be
       larger than 70 characters.
      </p>
      <div class="caution"><strong class="caution">Caution</strong>
       <p class="para">
        (Windows only) When PHP is talking to a SMTP server directly, if a full
        stop is found on the start of a line, it is removed. To counter-act this,
        replace these occurrences with a double dot.
        <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>$text&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">str_replace</span><span style="color: #007700">(</span><span style="color: #DD0000">&quot;\n.&quot;</span><span style="color: #007700">,&#xA0;</span><span style="color: #DD0000">&quot;\n..&quot;</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">$text</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
        </div>

       </p>
      </div>
     </dd>

    
    
     <dt>
<code class="parameter">additional_headers</code> (optional)</dt>

     <dd>

      <p class="para">
       String to be inserted at the end of the email header.
      </p>
      <p class="para">
       This is typically used to add extra headers (From, Cc, and Bcc).
       Multiple extra headers should be separated with a CRLF (\r\n).
       If outside data are used to compose this header, the data should be sanitized
       so that no unwanted headers could be injected. 
      </p>
      <blockquote class="note"><p><strong class="note">Note</strong>: 
       </p><p class="para">
        <code class="parameter">additional_headers</code> does not have mail header
        injection protection. Therefore, users must make sure specified headers
        are safe and contains headers only. i.e. Never start mail body by putting
        multiple newlines.
       </p>
      </blockquote></dd></dl></p>      
      <blockquote class="note"><p><strong class="note">Note</strong>: 
       </p><p class="para">
        When sending mail, the mail <em class="emphasis">must</em> contain
        a <em>From</em> header. This can be set with the
        <code class="parameter">additional_headers</code> parameter, or a default
        can be set in <var class="filename">php.ini</var>.
       </p>
       <p class="para">
        Failing to do this will result in an error
        message similar to <em>Warning: mail(): &quot;sendmail_from&quot; not
        set in php.ini or custom &quot;From:&quot; header missing</em>.
        The <em>From</em> header sets also
        <em>Return-Path</em> under Windows.
       </p>
      <p></p></blockquote>
      <blockquote class="note"><p><strong class="note">Note</strong>: 
       </p><p class="para">
        If messages are not received, try using a LF (\n) only.
        Some Unix mail transfer agents (most notably
        <a href="http://www.qmail.org/" class="link external">&#xBB;&#xA0;qmail</a>) replace LF by CRLF
        automatically (which leads to doubling CR if CRLF is used).
        This should be a last resort, as it does not comply with
        <a href="http://www.faqs.org/rfcs/rfc2822" class="link external">&#xBB;&#xA0;RFC 2822</a>.
       </p>
      <p></p></blockquote>
     

    
    
     <dt>
<code class="parameter">additional_parameters</code> (optional)</dt>

     <dd>

      <p class="para">
       The <code class="parameter">additional_parameters</code> parameter
       can be used to pass additional flags as command line options to the
       program configured to be used when sending mail, as defined by the
       <em>sendmail_path</em> configuration setting. For example,
       this can be used to set the envelope sender address when using
       sendmail with the <em>-f</em> sendmail option.
      </p>
      <p class="para">
       This parameter is escaped by <span class="function"><a href="function.escapeshellcmd.html" class="function">escapeshellcmd()</a></span> internally
       to prevent command execution. <span class="function"><a href="function.escapeshellcmd.html" class="function">escapeshellcmd()</a></span> prevents
       command execution, but allows to add additional parameters. For security reasons,
       it is recommended for the user to sanitize this parameter to avoid adding unwanted
       parameters to the shell command.
      </p>
      <p class="para">
       Since <span class="function"><a href="function.escapeshellcmd.html" class="function">escapeshellcmd()</a></span> is applied automatically, some characters
       that are allowed as email addresses by internet RFCs cannot be used. 
       <span class="function"><strong>mail()</strong></span> can not allow such characters, so in programs where the use of
       such characters is required, alternative means of sending emails (such as using a framework
       or a library) is recommended. 
      </p>
      <p class="para">
       The user that the webserver runs as should be added as a trusted user to the
       sendmail configuration to prevent a &apos;X-Warning&apos; header from being added
       to the message when the envelope sender (-f) is set using this method.
       For sendmail users, this file is <var class="filename">/etc/mail/trusted-users</var>.
      </p>
     </dd>

    
   

  <p></p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.mail-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns <strong><code>TRUE</code></strong> if the mail was successfully accepted for delivery, <strong><code>FALSE</code></strong> otherwise.
  </p>
  <p class="para">
   It is important to note that just because the mail was accepted for delivery,
   it does NOT mean the mail will actually reach the intended destination.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.mail-changelog">
  <h3 class="title">Changelog</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Version</th>
       <th>Description</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>4.2.3</td>
       <td>
        The <code class="parameter">additional_parameters</code> parameter is disabled in
        <a href="ini.sect.safe-mode.html#ini.safe-mode" class="link">safe_mode</a> and the
        <span class="function"><strong>mail()</strong></span> function will expose a warning message
        and return <strong><code>FALSE</code></strong> when used.
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.mail-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   <div class="example" id="example-3926">
    <p><strong>Example #1 Sending mail.</strong></p>
    <div class="example-contents"><p>
     Using <span class="function"><strong>mail()</strong></span> to send a simple email:
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">//&#xA0;The&#xA0;message<br></span><span style="color: #0000BB">$message&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #DD0000">&quot;Line&#xA0;1\r\nLine&#xA0;2\r\nLine&#xA0;3&quot;</span><span style="color: #007700">;<br><br></span><span style="color: #FF8000">//&#xA0;In&#xA0;case&#xA0;any&#xA0;of&#xA0;our&#xA0;lines&#xA0;are&#xA0;larger&#xA0;than&#xA0;70&#xA0;characters,&#xA0;we&#xA0;should&#xA0;use&#xA0;wordwrap()<br></span><span style="color: #0000BB">$message&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">wordwrap</span><span style="color: #007700">(</span><span style="color: #0000BB">$message</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">70</span><span style="color: #007700">,&#xA0;</span><span style="color: #DD0000">&quot;\r\n&quot;</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">//&#xA0;Send<br></span><span style="color: #0000BB">mail</span><span style="color: #007700">(</span><span style="color: #DD0000">&apos;caffeinated@example.com&apos;</span><span style="color: #007700">,&#xA0;</span><span style="color: #DD0000">&apos;My&#xA0;Subject&apos;</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">$message</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
   <div class="example" id="example-3927">
    <p><strong>Example #2 Sending mail with extra headers.</strong></p>
    <div class="example-contents"><p>
     The addition of basic headers, telling the MUA
     the From and Reply-To addresses:
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>$to&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #DD0000">&apos;nobody@example.com&apos;</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$subject&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #DD0000">&apos;the&#xA0;subject&apos;</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$message&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #DD0000">&apos;hello&apos;</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$headers&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #DD0000">&apos;From:&#xA0;webmaster@example.com&apos;&#xA0;</span><span style="color: #007700">.&#xA0;</span><span style="color: #DD0000">&quot;\r\n&quot;&#xA0;</span><span style="color: #007700">.<br>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #DD0000">&apos;Reply-To:&#xA0;webmaster@example.com&apos;&#xA0;</span><span style="color: #007700">.&#xA0;</span><span style="color: #DD0000">&quot;\r\n&quot;&#xA0;</span><span style="color: #007700">.<br>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #DD0000">&apos;X-Mailer:&#xA0;PHP/&apos;&#xA0;</span><span style="color: #007700">.&#xA0;</span><span style="color: #0000BB">phpversion</span><span style="color: #007700">();<br><br></span><span style="color: #0000BB">mail</span><span style="color: #007700">(</span><span style="color: #0000BB">$to</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">$subject</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">$message</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">$headers</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
   <div class="example" id="example-3928">
    <p><strong>Example #3 Sending mail with an additional command line parameter.</strong></p>
    <div class="example-contents"><p>
     The <code class="parameter">additional_parameters</code> parameter
     can be used to pass an additional parameter to the program configured
     to use when sending mail using the <em>sendmail_path</em>.
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>mail</span><span style="color: #007700">(</span><span style="color: #DD0000">&apos;nobody@example.com&apos;</span><span style="color: #007700">,&#xA0;</span><span style="color: #DD0000">&apos;the&#xA0;subject&apos;</span><span style="color: #007700">,&#xA0;</span><span style="color: #DD0000">&apos;the&#xA0;message&apos;</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">null</span><span style="color: #007700">,<br>&#xA0;&#xA0;&#xA0;</span><span style="color: #DD0000">&apos;-fwebmaster@example.com&apos;</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
   <div class="example" id="example-3929">
    <p><strong>Example #4 Sending HTML email</strong></p>
    <div class="example-contents"><p>
     It is also possible to send HTML email with <span class="function"><strong>mail()</strong></span>.
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">//&#xA0;Multiple&#xA0;recipients<br></span><span style="color: #0000BB">$to&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #DD0000">&apos;johny@example.com,&#xA0;sally@example.com&apos;</span><span style="color: #007700">;&#xA0;</span><span style="color: #FF8000">//&#xA0;note&#xA0;the&#xA0;comma<br><br>//&#xA0;Subject<br></span><span style="color: #0000BB">$subject&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #DD0000">&apos;Birthday&#xA0;Reminders&#xA0;for&#xA0;August&apos;</span><span style="color: #007700">;<br><br></span><span style="color: #FF8000">//&#xA0;Message<br></span><span style="color: #0000BB">$message&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #DD0000">&apos;<br>&lt;html&gt;<br>&lt;head&gt;<br>&#xA0;&#xA0;&lt;title&gt;Birthday&#xA0;Reminders&#xA0;for&#xA0;August&lt;/title&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>&#xA0;&#xA0;&lt;p&gt;Here&#xA0;are&#xA0;the&#xA0;birthdays&#xA0;upcoming&#xA0;in&#xA0;August!&lt;/p&gt;<br>&#xA0;&#xA0;&lt;table&gt;<br>&#xA0;&#xA0;&#xA0;&#xA0;&lt;tr&gt;<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&lt;th&gt;Person&lt;/th&gt;&lt;th&gt;Day&lt;/th&gt;&lt;th&gt;Month&lt;/th&gt;&lt;th&gt;Year&lt;/th&gt;<br>&#xA0;&#xA0;&#xA0;&#xA0;&lt;/tr&gt;<br>&#xA0;&#xA0;&#xA0;&#xA0;&lt;tr&gt;<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&lt;td&gt;Johny&lt;/td&gt;&lt;td&gt;10th&lt;/td&gt;&lt;td&gt;August&lt;/td&gt;&lt;td&gt;1970&lt;/td&gt;<br>&#xA0;&#xA0;&#xA0;&#xA0;&lt;/tr&gt;<br>&#xA0;&#xA0;&#xA0;&#xA0;&lt;tr&gt;<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&lt;td&gt;Sally&lt;/td&gt;&lt;td&gt;17th&lt;/td&gt;&lt;td&gt;August&lt;/td&gt;&lt;td&gt;1973&lt;/td&gt;<br>&#xA0;&#xA0;&#xA0;&#xA0;&lt;/tr&gt;<br>&#xA0;&#xA0;&lt;/table&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br>&apos;</span><span style="color: #007700">;<br><br></span><span style="color: #FF8000">//&#xA0;To&#xA0;send&#xA0;HTML&#xA0;mail,&#xA0;the&#xA0;Content-type&#xA0;header&#xA0;must&#xA0;be&#xA0;set<br></span><span style="color: #0000BB">$headers</span><span style="color: #007700">[]&#xA0;=&#xA0;</span><span style="color: #DD0000">&apos;MIME-Version:&#xA0;1.0&apos;</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$headers</span><span style="color: #007700">[]&#xA0;=&#xA0;</span><span style="color: #DD0000">&apos;Content-type:&#xA0;text/html;&#xA0;charset=iso-8859-1&apos;</span><span style="color: #007700">;<br><br></span><span style="color: #FF8000">//&#xA0;Additional&#xA0;headers<br></span><span style="color: #0000BB">$headers</span><span style="color: #007700">[]&#xA0;=&#xA0;</span><span style="color: #DD0000">&apos;To:&#xA0;Mary&#xA0;&lt;mary@example.com&gt;,&#xA0;Kelly&#xA0;&lt;kelly@example.com&gt;&apos;</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$headers</span><span style="color: #007700">[]&#xA0;=&#xA0;</span><span style="color: #DD0000">&apos;From:&#xA0;Birthday&#xA0;Reminder&#xA0;&lt;birthday@example.com&gt;&apos;</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$headers</span><span style="color: #007700">[]&#xA0;=&#xA0;</span><span style="color: #DD0000">&apos;Cc:&#xA0;birthdayarchive@example.com&apos;</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$headers</span><span style="color: #007700">[]&#xA0;=&#xA0;</span><span style="color: #DD0000">&apos;Bcc:&#xA0;birthdaycheck@example.com&apos;</span><span style="color: #007700">;<br><br></span><span style="color: #FF8000">//&#xA0;Mail&#xA0;it<br></span><span style="color: #0000BB">mail</span><span style="color: #007700">(</span><span style="color: #0000BB">$to</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">$subject</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">$message</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">implode</span><span style="color: #007700">(</span><span style="color: #DD0000">&quot;\r\n&quot;</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">$headers</span><span style="color: #007700">));<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
  <p class="para">
   <blockquote class="note"><p><strong class="note">Note</strong>: 
    </p><p class="para">
     If intending to send HTML or otherwise Complex mails, it is recommended
     to use the PEAR package <a href="http://pear.php.net/package/Mail_Mime" class="link external">&#xBB;&#xA0;PEAR::Mail_Mime</a>.
    </p>
   </blockquote></p>
  <p></p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.mail-notes">    
  <h3 class="title">Notes</h3>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   </p><p class="para">
    The Windows implementation of <span class="function"><strong>mail()</strong></span> differs in many
    ways from the Unix implementation. First, it doesn&apos;t use a local binary
    for composing messages but only operates on direct sockets which means a
    <em>MTA</em> is needed listening on a network socket (which
    can either on the localhost or a remote machine).
   </p>
   <p class="para">
    Second, the custom headers like
    <em>From:</em>,
    <em>Cc:</em>,
    <em>Bcc:</em> and
    <em>Date:</em> are
    <em class="emphasis">not</em> interpreted by the
    <em>MTA</em> in the first place, but are parsed by PHP.
   </p>
   <p class="para">
    As such, the <code class="parameter">to</code> parameter should not be an address
    in the form of &quot;Something &lt;someone@example.com&gt;&quot;. The
    mail command may not parse this properly while talking with 
    the MTA.
   </p>
  <p></p></blockquote>
  
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   </p><p class="para">
    It is worth noting that the <span class="function"><strong>mail()</strong></span> function is not
    suitable for larger volumes of email in a loop. This function opens
    and closes an SMTP socket for each email, which is not very efficient.
   </p>
   <p class="para">
    For the sending of large amounts of email, see the
    <a href="http://pear.php.net/package/Mail" class="link external">&#xBB;&#xA0;PEAR::Mail</a>, and
    <a href="http://pear.php.net/package/Mail_Queue" class="link external">&#xBB;&#xA0;PEAR::Mail_Queue</a> packages.
   </p>
  <p></p></blockquote>

  <blockquote class="note"><p><strong class="note">Note</strong>: 
   </p><p class="para">
    The following RFCs may be useful:
    <a href="http://www.faqs.org/rfcs/rfc1896" class="link external">&#xBB;&#xA0;RFC 1896</a>,
    <a href="http://www.faqs.org/rfcs/rfc2045" class="link external">&#xBB;&#xA0;RFC 2045</a>,
    <a href="http://www.faqs.org/rfcs/rfc2046" class="link external">&#xBB;&#xA0;RFC 2046</a>,
    <a href="http://www.faqs.org/rfcs/rfc2047" class="link external">&#xBB;&#xA0;RFC 2047</a>,
    <a href="http://www.faqs.org/rfcs/rfc2048" class="link external">&#xBB;&#xA0;RFC 2048</a>,
    <a href="http://www.faqs.org/rfcs/rfc2049" class="link external">&#xBB;&#xA0;RFC 2049</a>, and
    <a href="http://www.faqs.org/rfcs/rfc2822" class="link external">&#xBB;&#xA0;RFC 2822</a>.
   </p>
  <p></p></blockquote>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.mail-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.imap-mail.html" class="function" rel="rdfs-seeAlso">imap_mail()</a> - Send an email message</span></li>
    <li class="member"><a href="http://pear.php.net/package/Mail" class="link external">&#xBB;&#xA0;PEAR::Mail</a></li>
    <li class="member"><a href="http://pear.php.net/package/Mail_Mime" class="link external">&#xBB;&#xA0;PEAR::Mail_Mime</a></li>
   </ul>
  </p>
 </div>

