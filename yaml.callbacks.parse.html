---
layout: default
---

  <h2 class="title">Parse callbacks</h2>
  <p class="para">
   Parse <span class="type"><span class="type callbacks">callbacks</span></span> are invoked by
   <span class="function"><a href="function.yaml-parse.html" class="function">yaml_parse()</a></span>, <span class="function"><a href="function.yaml-parse-file.html" class="function">yaml_parse_file()</a></span> or
   <span class="function"><a href="function.yaml-parse-url.html" class="function">yaml_parse_url()</a></span> functions when a registered YAML tag is
   encountered. The callback is passed the tagged entity&apos;s value, the tag, and
   flags indicating the scalar entity style. The callback must return the data
   that the YAML parser should emit for this entity.
  </p>
  <div class="example" id="example-4691">
   <p><strong>Example #1 Parse callback example</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">/**<br>&#xA0;*&#xA0;Parsing&#xA0;callback&#xA0;for&#xA0;yaml&#xA0;tag.<br>&#xA0;*&#xA0;@param&#xA0;mixed&#xA0;$value&#xA0;Data&#xA0;from&#xA0;yaml&#xA0;file<br>&#xA0;*&#xA0;@param&#xA0;string&#xA0;$tag&#xA0;Tag&#xA0;that&#xA0;triggered&#xA0;callback<br>&#xA0;*&#xA0;@param&#xA0;int&#xA0;$flags&#xA0;Scalar&#xA0;entity&#xA0;style&#xA0;(see&#xA0;YAML_*_SCALAR_STYLE)<br>&#xA0;*&#xA0;@return&#xA0;mixed&#xA0;Value&#xA0;that&#xA0;YAML&#xA0;parser&#xA0;should&#xA0;emit&#xA0;for&#xA0;the&#xA0;given&#xA0;value<br>&#xA0;*/<br></span><span style="color: #007700">function&#xA0;</span><span style="color: #0000BB">tag_callback&#xA0;</span><span style="color: #007700">(</span><span style="color: #0000BB">$value</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">$tag</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">$flags</span><span style="color: #007700">)&#xA0;{<br>&#xA0;&#xA0;</span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">func_get_args</span><span style="color: #007700">());&#xA0;</span><span style="color: #FF8000">//&#xA0;debugging<br>&#xA0;&#xA0;</span><span style="color: #007700">return&#xA0;</span><span style="color: #DD0000">&quot;Hello&#xA0;</span><span style="color: #007700">{</span><span style="color: #0000BB">$value</span><span style="color: #007700">}</span><span style="color: #DD0000">&quot;</span><span style="color: #007700">;<br>}<br><br></span><span style="color: #0000BB">$yaml&#xA0;</span><span style="color: #007700">=&#xA0;&lt;&lt;&lt;YAML<br></span><span style="color: #DD0000">greeting:&#xA0;!example/hello&#xA0;World<br></span><span style="color: #007700">YAML;<br><br></span><span style="color: #0000BB">$result&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">yaml_parse</span><span style="color: #007700">(</span><span style="color: #0000BB">$yaml</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">$ndocs</span><span style="color: #007700">,&#xA0;array(<br>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #DD0000">&apos;!example/hello&apos;&#xA0;</span><span style="color: #007700">=&gt;&#xA0;</span><span style="color: #DD0000">&apos;tag_callback&apos;</span><span style="color: #007700">,<br>&#xA0;&#xA0;));<br><br></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$result</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <div class="example-contents"><p>The above example will output
something similar to:</p></div>
   <div class="example-contents screen">
<div class="cdata"><pre>
array(3) {
  [0]=&gt;
  string(5) &quot;World&quot;
  [1]=&gt;
  string(14) &quot;!example/hello&quot;
  [2]=&gt;
  int(1)
}
array(1) {
  [&quot;greeting&quot;]=&gt;
  string(11) &quot;Hello World&quot;
}
</pre></div>
   </div>
  </div>
 