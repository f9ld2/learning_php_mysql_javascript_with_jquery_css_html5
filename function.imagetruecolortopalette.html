---
layout: default
---

 <div class="refnamediv">
  <h1 class="refname">imagetruecolortopalette</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.0.6, PHP 5, PHP 7)</p><p class="refpurpose"><span class="refname">imagetruecolortopalette</span> &#x2014; <span class="dc-title">Convert a true color image to a palette image</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.imagetruecolortopalette-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">bool</span> <span class="methodname"><strong>imagetruecolortopalette</strong></span>
    ( <span class="methodparam"><span class="type">resource</span> <code class="parameter">$image</code></span>
   , <span class="methodparam"><span class="type">bool</span> <code class="parameter">$dither</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$ncolors</code></span>
   )</div>

  <p class="para rdfs-comment">
   <span class="function"><strong>imagetruecolortopalette()</strong></span> converts a truecolor image
   to a palette image. The code for this function was originally drawn from
   the Independent JPEG Group library code, which is excellent. The code
   has been modified to preserve as much alpha channel information as
   possible in the resulting palette, in addition to preserving colors as
   well as possible. This does not work as well as might be hoped. It is
   usually best to simply produce a truecolor output image instead, which
   guarantees the highest output quality.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-function.imagetruecolortopalette-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   <dl>

    <dt>
<code class="parameter">
image</code></dt>
<dd>
<p class="para">An image resource, returned by one of the image creation functions,
such as <span class="function"><a href="function.imagecreatetruecolor.html" class="function">imagecreatetruecolor()</a></span>.</p></dd>

    
     <dt>
<code class="parameter">dither</code></dt>

     <dd>

      <p class="para">
       Indicates if the image should be dithered - if it is <strong><code>TRUE</code></strong> then
       dithering will be used which will result in a more speckled image but
       with better color approximation.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">ncolors</code></dt>

     <dd>

      <p class="para">
       Sets the maximum number of colors that should be retained in the palette.
      </p>
     </dd>

    
   </dl>

  </p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.imagetruecolortopalette-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns <strong><code>TRUE</code></strong> on success or <strong><code>FALSE</code></strong> on failure.
  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-function.imagetruecolortopalette-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   <div class="example" id="example-3611">
    <p><strong>Example #1 Converting a true color image to a palette-based image</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">//&#xA0;Create&#xA0;a&#xA0;new&#xA0;true&#xA0;color&#xA0;image<br></span><span style="color: #0000BB">$im&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">imagecreatetruecolor</span><span style="color: #007700">(</span><span style="color: #0000BB">100</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">100</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">//&#xA0;Convert&#xA0;to&#xA0;palette-based&#xA0;with&#xA0;no&#xA0;dithering&#xA0;and&#xA0;255&#xA0;colors<br></span><span style="color: #0000BB">imagetruecolortopalette</span><span style="color: #007700">(</span><span style="color: #0000BB">$im</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">false</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">255</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">//&#xA0;Save&#xA0;the&#xA0;image<br></span><span style="color: #0000BB">imagepng</span><span style="color: #007700">(</span><span style="color: #0000BB">$im</span><span style="color: #007700">,&#xA0;</span><span style="color: #DD0000">&apos;./paletteimage.png&apos;</span><span style="color: #007700">);<br></span><span style="color: #0000BB">imagedestroy</span><span style="color: #007700">(</span><span style="color: #0000BB">$im</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>


