---
layout: default
---

  <h2 class="title">Sharing connections</h2>
  <p class="para">
   The PHP mysqlnd connection multiplexing plugin changes the relationship
   between a users connection handle and the underlying MySQL connection.
   Without the plugin, every MySQL connection belongs to exactly one
   user connection at a time. The multiplexing plugin changes.
   A MySQL connection is shared among multiple user handles.
   There no one-to-one relation if using the plugin.
  </p>
  <p class="para">
   Sharing pooled connections has an impact on the connection state.
   State changing operations from multiple user handles pointing to one
   MySQL connection are not isolated from each other. If, for example,
   a session variable is set through one user connection handle,
   the session variable becomes visible to all other user handles that
   reference the same underlying MySQL connection.
  </p>
  <p class="para">
   This is similar in concept to connection state related phenomens
   described for the PHP mysqlnd replication and load balancing plugin.
   Please, check the
   <a href="book.mysqlnd-ms.html" class="link">PECL/mysqlnd_ms documentation</a> for
   more details on the state of a connection.
  </p>
  <p class="para">
   The proof-of-concept takes no measures to isolate multiplexed
   connections from each other.
  </p>
 