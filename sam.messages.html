---
layout: default
---

  <h2 class="title">Messages</h2>
  <p class="para">
   Messages sent to and received from queues are represented by the
   SAMMessage object. The SAMMessage object encapsulates the body of
   the message (if one exists) and the header properties associated with
   the message. A SAMMessage object is either supplied as a parameter to
   a messaging operation or returned as a result.
  </p>
  <p class="para">
   <div class="example" id="example-5060">
    <p><strong>Example #1 Creating a message with a simple text body</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>$msg&#xA0;</span><span style="color: #007700">=&#xA0;new&#xA0;</span><span style="color: #0000BB">SAMMessage</span><span style="color: #007700">(</span><span style="color: #DD0000">&apos;This&#xA0;is&#xA0;a&#xA0;simple&#xA0;text&#xA0;message&apos;</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
  <p class="para">
   Messages may have header properties associated with them that provide
   control over the transport of the message or further information to the
   receiving application. By default message properties are delivered to
   the underlying messaging system as strings and in this case they may be
   set with the following simple syntax:
  </p>
  <p class="para">
   <div class="example" id="example-5061">
    <p><strong>Example #2 Setting a text format property using the default syntax</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>$msg</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">header</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">myPropertyName&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #DD0000">&apos;textData&apos;</span><span style="color: #007700">;<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
  <p class="para">
   If it is desired to pass type information an alternative syntax may be
   used where the value and the type hint are passed in an associative
   array:
  </p>
  <p class="para">
   <div class="example" id="example-5062">
    <p><strong>Example #3 Setting a property using a type hint</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>$msg</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">header</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">myPropertyName&#xA0;</span><span style="color: #007700">=&#xA0;array(</span><span style="color: #0000BB">3.14159</span><span style="color: #007700">,&#xA0;</span><span style="color: #0000BB">SAM_FLOAT</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
  <p class="para">
   Properties may also be extracted from the header of a message.
  </p>
  <p class="para">
   <div class="example" id="example-5063">
    <p><strong>Example #4 Retrieving a property from a message header</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>$myProperty&#xA0;</span><span style="color: #007700">=&#xA0;</span><span style="color: #0000BB">$msg</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">header</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">myPropertyName</span><span style="color: #007700">;<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 