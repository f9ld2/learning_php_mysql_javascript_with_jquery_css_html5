---
layout: default
title: "Introduction to CSS"
---
<h2>Introduction to CSS</h2>
<span>Using CSS (Cascading Style Sheets) , you can apply styles to your web pages to make them look exactly how you want. This works because CSS is connected to the DOM (Document Object Model), which I explained in Chapter 13.</span>
<br/>
<span>With CSS and its integration with the DOM, you can quickly and easily restyle any element. For example, if you don&rsquo;t like the default look of the &lt;h1&gt; , &lt;h2&gt; , and other heading tags, you can assign new styles to override the default settings for the font family and size used, or whether bold or italics should be set, and many more properties too.</span>
<br/>
<span>One way you can add styling to a web page is by inserting the required statements into the head of a web page between the &lt;head&gt; and &lt;/head&gt; tags. So, to change the style of the &lt;h1&gt; tag, you might use the following code (I&rsquo;ll explain the syntax later):</span>
<pre>
<code class="css">
&lt;style&gt;
    h1 { color:red; font-size:3em; font-family:Arial; }
&lt;/style&gt;
</code>
</pre>
<span>Within an HTML page, this might look like Example 18-1 (see Figure 18-1 ), which, like all the examples in this chapter, uses the standard HTML5 DOCTYPE declaration.</span>
<br/>
<span>Example 18-1. A simple HTML page</span>
<pre>
<code class="css">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;Hello World&lt;/title&gt;
        &lt;style&gt;
        &nbsp;
            h1 { color:red; font-size:3em; font-family:Arial; }
        &lt;/style&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;h1&gt;Hello there&lt;/h1&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code>
</pre>
<p><img src="images/18.1.png"/></p>
<span>Figure 18-1. Styling a tag, with the original style shown in the inset</span>
<h3>Importing a Style Sheet</h3>
<span>When you wish to style a whole site, rather than a single page, a better way to manage style sheets is to move them completely out of your web pages to separate files, and then import the ones you need. This lets you apply different style sheets for different layouts (such as web and print), without changing the HTML.</span>
<br/>
<span>There are a couple of different ways you can achieve this, the first of which is by using the CSS @import directive, like this:</span>
<pre>
<code class="css">
&lt;style&gt;
    @import url('styles.css');
&lt;/style&gt;
</code>
</pre>
<span>This statement tells the browser to fetch a style sheet with the name &nbsp;styles.css. The @import command is quite flexible in that you can create style sheets that themselves pull in other style sheets, and so on. Just make sure that there are no &lt;style&gt; or &lt;/style&gt; tags in any of your external style sheets, or they will not work.</span>
<h4>Importing CSS from Within HTML</h4>
<span>You can also include a style sheet with the HTML &lt;link&gt; tag, like this:</span>
<pre><code class="css">&lt;link rel='stylesheet' type='text/css' href='styles.css'&gt;</code></pre>
<span>This has the exact same effect as the @import directive, except that &lt;link&gt; is an HTML-only tag and is not a valid style directive, so it cannot be used from within one style sheet to pull in another, and also cannot be placed within a pair of &lt;style&gt;...&lt;/style&gt; tags.</span>
<br/>
<span>Just as you can use multiple @import directives within your CSS to include multiple external style sheets, you can also use as many &lt;link&gt; elements as you like in your HTML.</span>
<h4>Embedded Style Settings</h4>
<span>There&rsquo;s also nothing stopping you from individually setting or overriding certain styles for the current page on a case-by-case basis by inserting style declarations directly within HTML, like this (which results in italic, blue text within the tags):</span>
<pre><code class="html">&lt;div style='font-style:italic; color:blue;'&gt;Hello there&lt;/div&gt;</code></pre>
<span>But this should be reserved only for the most exceptional circumstances, as it breaks the separation of content and presentation.</span>
<h3>Using IDs</h3>
<span>A better solution for setting the style of an element is to assign an ID to it in the HTML, like this:</span>
<pre><code class="html">&lt;div id='welcome'&gt;Hello there&lt;/div&gt;</code></pre>
<span>This states that the contents of the &lt;div&gt; with the ID welcome should have applied to them the style defined in the welcome style setting. The matching CSS statement for this might look like the following</span>
<pre><code class="css">#welcome { font-style:italic; color:blue; }</code></pre>
<span>Note the use of the # symbol, which specifies that only the ID with the name welcome should be styled with this statement.</span>
<h3>Using Classes</h3>
<span>If you would like to apply the same style to many elements, you do not have to give each one a different ID because you can specify a class to manage them all, like this:</span>
<pre><code class="html">&lt;div class='welcome'&gt;Hello&lt;/div&gt;</code></pre>
<span>This states that the contents of this element (and any others that use the class) should have applied to them the style defined in the welcome class. Once a class is applied, you can use the following rule, either in the page header or within an external style sheet for setting the styles for the class:</span>
<pre><code class="css">.welcome { font-style:italic; color:blue; }</code></pre>
<span>Instead of the # symbol, which is reserved for IDs, class statements are prefaced with a. (period).</span>
<h3>Using Semicolons</h3>
<span>In CSS, semicolons are used to separate multiple CSS statements on the same line. But if there is only one statement in a rule (or in an inline style setting within an HTML tag), you can omit the semicolon, as you can for the final statement in a group.</span>
<br/>
<span>However, to avoid hard-to-find CSS errors, you may prefer to always use a semicolon after every CSS setting. You can then copy and paste them, and otherwise modify properties, without worrying about removing semicolons where they aren&rsquo;t strictly necessary or having to add them where they are required.</span>
<h3>CSS Rules</h3>
<span>Each statement in a CSS rule starts with a selector , which is the item to which the rule will be applied. For example, in this assignment, h1 is the selector being given a font size 240 percent larger than the default:</span>
<pre><code class="css">h1 { font-size:240%; }</code></pre>
<span>font-size is a property. Providing a value of 240% to the font-size property of the selector ensures that the contents of all &lt;h1&gt;...&lt;/h1&gt; pairs of tags will be displayed at a font size that is 240 percent of the default size. All changes in rules must be within the { and } symbols that follow the selector. In font-size:240%; the part before the : (colon) is the property, while the remainder is the value applied to it.</span>
<br/>
<span>Last comes a ; (semicolon) to end the statement. In this instance, because font-size is the last property in the rule, the semicolon is not required (but it would be if another assignment were to follow).</span>
<h4>Multiple Assignments</h4>
<span>You can create multiple style declarations in a couple of different ways. First, you can concatenate them on the same line, like this: h1 { font-size:240%; color:blue; } This adds a second assignment that changes the color of all</span>
<br/>
<span>&lt;h1&gt;</span>
<br/>
<span>headings to blue. You can also place the assignments one per line, like the following:</span>
<pre><code class="css">h1 { font-size:240%;color:blue; }</code></pre>
<span>Or you can space out the assignments a little more, so that they line up below each other in a column at the colons, like this:</span>
<pre>
<code class="css">
h1 {
    font-size:240%;
    color :blue;
}
</code>
</pre>
<span>This way, you can easily see where each new set of rules begins, because the selector is always in the first column, and the assignments that follow are neatly lined up with all property values starting at the same horizontal offset. In the preceding examples, the final semicolon is unnecessary, but should you ever want to concatenate any such groups of statements into a single line, it is very quick to do with all semicolons already in place.</span>
<br/>
<span>You can specify the same selector as many times as you want, and CSS combines all the properties. So the previous example could also be specified as follows:</span>
<pre>
<code class="css">
h1 { font-size: 240%; }
h1 { color : blue; }
</code>
</pre>
<span>There is no right or wrong way to lay out your CSS, but I recommend that you at least try to keep each block of CSS consistent with itself, so that other people can take it in at a glance.</span>
<br/>
<span>What if you specified the same property to the same selector twice?</span>
<pre>
<code class="css">
h1 { color : red; }
h1 { color : blue; }
</code>
</pre>
<span>The last value specified&mdash;in this case, blue&mdash;would apply. In a single file, repeating the same property for the same selector would be pointless, but such repetition happens frequently in real-life web pages when multiple style sheets are applied. It&rsquo;s one of the valuable features of CSS, and where the term cascading comes from.</span>
<h4>Using Comments</h4>
<span>It is a good idea to comment your CSS rules, even if you describe only the main groups of statements rather than all or most of them. You can do this in two different ways. First, you can place a comment within a pair of /*...*/ tags, like this:</span>
<pre><code class="css">/* This is a CSS comment */</code></pre>
<span>Or you can extend a comment over many lines, like this:</span>
<pre>
<code class="css">
/*
    A Multi
    line
    comment
*/
</code>
</pre>
<span>When using multiline comments, note that you cannot nest single- line (or any other) comments within them. Doing so can lead to unpredictable errors.</span>
<h3>Style Types</h3>
<span>There are a number of different style types, ranging from the default styles set up by your browser (and any user styles you may have applied in your browser to override its defaults), through inline or embedded styles, to external style sheets. The styles defined in each type have a hierarchy of precedence, from low to high.</span>
<h4>Default Styles</h4>
<span>The lowest level of style precedence is the default styling applied by a web browser. These styles are created as a fallback for when a web page doesn&rsquo;t have any styles, and they are intended to be a generic set of styles that will display reasonably well in most instances.</span>
<br/>
<span>Pre-CSS, these were the only styles applied to a document, and only a handful of them could be changed by a web page (such as font face, color, and size, and a few element sizing arguments).</span>
<h4>User Styles</h4>
<span>These are the next highest precedence of styles, and they are supported by most modern browsers but are implemented differently by each. If you would like to learn how to create your own default styles for browsing, use a search engine to enter your browser name followed by &ldquo;user styles&rdquo; (for example, &ldquo;Firefox user styles&rdquo; or &ldquo;Opera user styles&rdquo;) to find out how. &nbsp;Figure 18-2 &nbsp;shows a user style sheet being applied to Microsoft Internet Explorer.</span>
<p><img src="images/18.2.png"/></p>
<span>Figure 18-2. Applying a user style to Internet Explorer</span>
<br/>
<span>If a user style is assigned that has already been defined as a browser default, it will then override the browser&rsquo;s default setting. Any styles not defined in a user style sheet will retain their default values as set up in the browser.</span>
<h4>External Style Sheets</h4>
<span>The next types of styles are those assigned in an external style sheet. These settings will override any assigned either by the user or by the browser. External style sheets are the recommended way to create your styles because you can produce different style sheets for different purposes such as styling for general web use, for viewing on a mobile browser with a smaller screen, for printing purposes, and so on. Just apply the one needed for each type of media when you create the web page.</span>
<h4>Internal Styles</h4>
<span>Then there are internal styles, which you create within &lt;style&gt;... &lt;/style&gt; tags, and which take precedence over all the preceding style types. At this point, though, you are beginning to break the separation between styling and content, as any external style sheets loaded in at the same time will have a lower precedence.</span>
<h4>Inline Styles</h4>
<span>Finally, inline styles are where you assign a property directly to an element. They have the highest precedence of any style type, and are used like this:</span>
<pre><code class="html">&lt;a href="http://google.com" style="color:green;"&gt;Visit Google&lt;/a&gt;</code></pre>
<span>In this example, the link specified will be displayed in green, regardless of any default or other color settings applied by any other type of style sheet, whether directly to this link or generically for all links.</span>
<br/>
<span>When you use this type of styling, you are breaking the separation between layout and content; therefore, it is recommended that you do so only when you have a very good reason.</span>
<h3>CSS Selectors</h3>
<span>The means by which you access one or more elements is called selection , and the part of a CSS rule that does this is known as a &nbsp;selector. As you might expect, there are many varieties of selector.</span>
<h4>The Type Selector</h4>
<span>The type selector works on types of HTML elements such as &lt;p&gt; or &lt;i&gt;. For example, the following rule will ensure that all text within &lt;p&gt;...&lt;/p&gt; tags is fully justified:</span>
<pre><code class="css">p { text-align:justify; }</code></pre>
<h4>The Descendant Selector</h4>
<span>Descendant selectors let you apply styles to elements that are contained within other elements. For example, the following rule sets all text within &lt;b&gt;... &lt;/b&gt; tags to red, but only if they occur within &lt;p&gt;... &lt;/p&gt; tags (like this: &lt;p&gt;&lt;b&gt;Hello&lt;/b&gt; there&lt;/p&gt; ):</span>
<pre><code class="css">p b { color:red; }</code></pre>
<span>Descendant selectors can continue nesting indefinitely, so the following is a perfectly valid rule to make the text blue within bold text, inside a list element of an unordered list:</span>
<pre><code class="css">ul li b { color:blue; }</code></pre>
<span>As a practical example, suppose you want to use a different numbering system for an ordered list that is nested within another ordered list. You can achieve this in the following way, which will replace the default numeric numbering (starting from 1 ) with lowercase letters (starting from a ):</span>
<pre>
<code class="html">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;style&gt;
            ol ol { list-style-type:lower-alpha; }
        &lt;/style&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;ol&gt;
            &lt;li&gt;One&lt;/li&gt;
            &lt;li&gt;Two&lt;/li&gt;
            &lt;li&gt;Three
                &lt;ol&gt;
                    &lt;li&gt;One&lt;/li&gt;
                    &lt;li&gt;Two&lt;/li&gt;
                    &lt;li&gt;Three&lt;/li&gt;
                &lt;/ol&gt;
            &lt;/li&gt;
        &lt;/ol&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code>
</pre>
<span>The result of loading this HTML into a web browser is as follows, in which you can see that the second list elements display differently:</span>
<br/>
<b class="t30">1. One</b>
<br/>
<b class="t30">2. Two</b>
<br/>
<b class="t30">3. Three</b>
<br/>
<b class="t30">a. One</b>
<br/>
<b class="t30">b. Two</b>
<br/>
<b class="t30">c. Three</b>
<br/>
<h4>The Child Selector</h4>
<span>The child selector is similar to the descendant selector but is more restrictive about when the style will be applied, by selecting only those elements that are direct children of another element. For example, the following code uses a descendant selector that will change any bold text within a paragraph to red, even if the bold text is itself within italics (like this &lt;p&gt;&lt;i&gt;&lt;b&gt;Hello&lt;/b&gt; there&lt;/i&gt;&lt;/p&gt; ):</span>
<pre><code class="css">p b { color:red; }</code></pre>
<span>In this instance, the word Hello displays in red. However, when this more general type of behavior is not required, a child selector can be used to narrow the scope of the selector. For example, the following child selector will set bold text to red only if the element is a direct child of a paragraph, and is not itself contained within another element:</span>
<pre><code class="html">p &gt; b { color:red; }</code></pre>
<span>Now Hello will not change color because it is not a direct child of the paragraph. For a practical example, suppose you wish to make bold only those &lt;li&gt; elements that are direct children of &lt;ol&gt; elements. You can achieve this as follows, where the &lt;li&gt; elements that are direct children of &lt;ul&gt; elements are not made bold:</span>
<pre>
<code class="html">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;style&gt;
            ol &gt; li { font-weight:bold; }
        &lt;/style&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;ol&gt;
            &lt;li&gt;One&lt;/li&gt;
            &lt;li&gt;Two&lt;/li&gt;
            &lt;li&gt;Three&lt;/li&gt;
        &lt;/ol&gt;
        &lt;ul&gt;
            &lt;li&gt;One&lt;/li&gt;
            &lt;li&gt;Two&lt;/li&gt;
            &lt;li&gt;Three&lt;/li&gt;
        &lt;/ul&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code>
</pre>
<span>The result of loading this HTML into a browser will be as follows:</span>
<br/>
<b class="t30">1. One</b>
<br/>
<b class="t30">2. Two</b>
<br/>
<b class="t30">3. Three</b>
<br/>
<b class="t30">&bull;One</b>
<br/>
<b class="t30">&bull;Two</b>
<br/>
<b class="t30">&bull;Three</b>
<br/>
<h4>The ID Selector</h4>
<span>If you give an element an ID name (like this: &lt;div id='mydiv'&gt; ), you can directly access it from CSS in the following way, which changes all text in the element to italic:</span>
<pre><code class="css">#mydiv { font-style:italic; }</code></pre>
<span>IDs can be used only once within a document, so only the first occurrence found will receive the new property value assigned by a CSS rule. But in CSS you can directly reference any IDs that have the same name, as long as they occur within different element types, like this:</span>
<pre><code class="css">&lt;div id='myid'&gt;Hello&lt;/div&gt; &lt;span id='myid'&gt;Hello&lt;/span&gt;</code></pre>
<span>Because IDs normally apply only to unique elements, the following rule will apply an underline to only the first occurrence of myid :</span>
<pre><code class="css">#myid { text-decoration:underline; }</code></pre>
<span>However, you can ensure that CSS applies the rule to both occurrences, like this:</span>
<pre>
<code class="css">
span#myid { text-decoration:underline; }
div#myid { text-decoration:underline; }
</code>
</pre>
<span>Or more succinctly, like this (see &ldquo;Selecting by Group&rdquo; on page 425 ):</span>
<pre><code class="css">span#myid, div#myid { text-decoration:underline; }</code></pre>
<span>I don&rsquo;t recommend using this form of selection because any JavaScript that also must access these elements cannot easily do so because the commonly used getElementByID() function will return only the first occurrence. To reference any other instances, a program would have to search through the whole list of elements in the document&mdash;a trickier task to undertake. So it&rsquo;s generally better to always use unique ID names.</span>
<h4>The Class Selector</h4>
<span>When there are a number of elements in a page that you want to share the same styling, you can assign them all the same class name (like this: &lt;span class='my class'&gt; ); then, create a single rule to modify all those elements at once, as in the following rule, which creates a 10-pixel left margin offset for all elements using the class:</span>
<pre><code class="html">.myclass { margin-left:10px; }</code></pre>
<span>In modern browsers, you can have HTML elements use more than one class by separating the class names with spaces, like this: &lt;span class='class1 class2 class3'&gt;. Remember, though, that some very old browsers allow only a single class name in a class argument.</span>
<br/>
<span>You can narrow the scope of action of a class by specifying the types of elements to which it should apply. For example, the following rule applies the setting only to paragraphs that use the class main :</span>
<pre><code class="css">p.main { text-indent:30px; }</code></pre>
<span>In this example, only paragraphs using the class main (like this: &lt;p class="main"&gt; ) will receive the new property value. Any other element types that may try to use the class (such as &lt;div class="main"&gt; ) will not be affected by this rule.</span>
<h4>The Attribute Selector</h4>
<span>Many HTML tags support attributes, and using this type of selector can save you from having to use IDs and classes to refer to them. For example, you can directly reference attributes in the following manner, which sets all elements with the attribute type="submit" to a width of 100 pixels:</span>
<pre><code class="css">[type="submit"] { width:100px; }</code></pre>
<span>If you wish to narrow down the scope of the selector to, for example, only form input elements with that attribute type, you could use the following rule instead:</span>
<pre><code class="css">form input[type="submit"] { width:100px; }</code></pre>
<span>Attribute selectors also work on IDs and classes so that, for example, [class~="classname"] works exactly like the class selector.classname (except that the latter has a higher precedence). Likewise, [id="idname"] is equivalent to using the ID selector #idname. The class and ID selectors prefaced by # and. can therefore be viewed as shorthand for attribute selectors, but with a higher precedence. The ~= operator matches an attribute even if it is one of a space-separated group of attributes.</span>
<h4>The Universal Selector</h4>
<span>The * wildcard or universal selector matches any element, so the following rule will make a complete mess of a document by giving a green border to all of its elements:</span>
<pre><code class="css">* { border:1px solid green; }</code></pre>
<span>It&rsquo;s therefore unlikely that you will use the * on its own, but as part of a compound rule it can be very powerful. For example, the following rule will apply the same styling as the preceding one, but only to all paragraphs that are subelements of the element with the ID boxout , and only as long as they are not direct children:</span>
<pre><code class="css">#boxout * p {border:1px solid green; }</code></pre>
<span>Let&rsquo;s look at what&rsquo;s going on here. The first selector following #boxout is a * symbol, so it refers to any element within the boxout object. The following p selector then narrows down the selection focus by changing the selector to apply only to paragraphs (as defined by the p ) that are subelements of elements returned by the * selector. Therefore, this CSS rule performs the following actions (in which I use the terms object and element interchangeably):</span>
<br/>
<span>1. Find the object with the ID of boxout.</span>
<br/>
<span>2. Find all subelements of the object returned in step 1.</span>
<br/>
<span>3. Find all p subelements of the objects returned in step 2 and, since this is the final selector in the group, also find all p sub- and sub-subelements (and so on) of the objects returned in step 2.</span>
<br/>
<span>4. Apply the styles within the { and } characters to the objects returned in step 3.</span>
<br/>
<span>The net result of this is that the green border is applied only to paragraphs that are grandchildren (or great-grandchildren, and so on) of the main element.</span>
<h4>Selecting by Group</h4>
<span>Using CSS, you can apply a rule to more than one element, class, or any other type of selector at the same time by separating the selectors with commas. So, for example, the following rule will place a dotted orange line underneath all paragraphs, the element with the ID of idname , and all elements that use the class classname :</span>
<pre><code class="css">p, #idname,.classname { border-bottom:1px dotted orange; }</code></pre>
<span>Figure 18-3 shows various selectors in use, with the rules applied to them alongside.</span>
<p><img src="images/18.3.png"/></p>
<span>Figure 18-3. Some HTML and the CSS rules used by it</span>
<h3>The CSS Cascade</h3>
<span>One of the most fundamental things about CSS properties is that they cascade, which is why they are called Cascading Style Sheets. But what does this mean?</span>
<br/>
<span>Cascading is a method used to resolve potential conflicts between the various types of style sheet a browser supports, and apply them in order of precedence by who created them, the method used to create the style, and the types of properties selected.</span>
<h4>Style Sheet Creators</h4>
<span>There are three main types of style sheet supported by all modern browsers. In order of precedence from high to low, they are as follows:</span>
<br/>
<span>1. Those created by a document&rsquo;s author</span>
<br/>
<span>2. Those created by the user</span>
<br/>
<span>3. Those created by the browser</span>
<br/>
<span>These three sets of style sheets are processed in reverse order. First, the defaults in the web browser are applied to the document. Without these defaults, web pages that don&rsquo;t use style sheets would look terrible. They include the font face, size, and color; element spacing; table borders and spacing; and all the other reasonable standards a user would expect.</span>
<br/>
<span>Next, if the user has created any styles to use instead of the standard ones, these are applied, replacing any of the browser&rsquo;s default styles that may conflict. Last, any styles created by the current document&rsquo;s author are then applied, replacing any that have been created either as browser defaults or by the user.</span>
<h4>Style Sheet Methods</h4>
<span>Style sheets can be created via three different methods. In order of precedence from high to low, they are as follows:</span>
<br/>
<span>1. As inline styles</span>
<br/>
<span>2. In an embedded style sheet</span>
<br/>
<span>3. As an external style sheet</span>
<br/>
<span>Again, these methods of style sheet creation are applied in reverse order of precedence. Therefore, all external style sheets are processed first, and their styles are applied to the document.</span>
<br/>
<span>Next, any embedded styles (within &lt;style&gt;... &lt;/style&gt; tags) are processed, and any that conflict with external rules are given precedence and will override them. Last, any styles applied directly to an element as an inline style (such as &lt;div style="..."&gt;... &lt;/div&gt; ) are given the highest precedence, and override all previously assigned properties.</span>
<h4>Style Sheet Selectors</h4>
<span>There are three different ways of selecting elements to be styled. Going from highest to lowest order of precedence, they are as follows:</span>
<br/>
<span>1. Referencing by individual ID or attribute selector</span>
<br/>
<span>2. Referencing in groups by class</span>
<br/>
<span>3. Referencing by element tags (such as &lt;p&gt; or &lt;b&gt; )</span>
<br/>
<span>Selectors are processed according to the number and types of elements affected by a rule, which is a little different from the previous two methods for resolving conflicts. This is because rules do not have to apply only to one type of selector at a time, and may reference many different selectors.</span>
<br/>
<span>Therefore, we need a method to determine the precedence of rules that can contain any combinations of selectors. It does this by calculating the specificity of each rule by ordering them from the widest to narrowest scope of action.</span>
<h4>Calculating Specificity</h4>
<span>We calculate the specificity of a rule by creating three-part numbers based on the selector types in the preceding numbered list. These compound numbers start off looking like [0,0,0]. When processing a rule, each selector that references an ID increments the first number by 1, so that the compound number would become [1,0,0].</span>
<br/>
<span>Let&rsquo;s look at the following rule, which has seven references, with three of them to the IDs #heading , #main , and #menu. So the compound number becomes [3,0,0].</span>
<pre>
<code class="css">
#heading #main #menu.text.quote p span {
// Rules go here;
}
</code>
</pre>
<span>Then the number of classes in the selector is placed in the second part of the compound number. In this example, there are two of them (.text and.quote ), so the compound number becomes [3,2,0].</span>
<br/>
<span>Finally, all selectors that reference element tags are counted, and this number is placed in the last part of the compound number. In the example, there are two ( p and span ), so the final compound number becomes [3,2,2] , which is all that is needed to compare this rule&rsquo;s specificity with another, such as the following:</span>
<pre>
<code class="css">
#heading #main.text.quote.news p span {
// Rules go here;
}
</code>
</pre>
<span>Here, although seven elements are also referenced, there are now only two ID references, but three class references, which results in the compound number [2,3,2]. Since 322 is greater than 232, the former example has precedence over the latter.</span>
<br/>
<span>In cases where there are nine or fewer of each type in a compound number, you can convert it directly to a decimal number, which in this case is 352. Rules with a lower number than this will have lower precedence, and those with a higher number will have greater precedence. Where two rules share the same value, the most recently applied one wins.</span>
<h6>Using a different number base</h6>
<span>Where there are more than nine of a type in a number, you have to work in a higher number base. For example, you can&rsquo;t convert the compound number [11,7,19] to decimal by simply concatenating the three parts. Instead, you can convert the number to a higher base such as base 20 (or higher if there are more than 19 of any type).</span>
<br/>
<span>To do this, multiply the three parts out and add the results like this, starting with the</span>
<pre>
<code class="css">
20 &times; 19 = 380
20&times;20 &times; 7 = 2800
20&times;20&times;20 &times; 11 = 88000
Total in decimal = 91180
</code>
</pre>
<span>On the left, replace the values of 20 with the base you are using. Once all of the compound numbers of a set of rules are converted from this base to decimal, it is easy to determine the specificity, and therefore the precedence, of each.</span>
<br/>
<span>Thankfully, the CSS processor handles all of this for you, but knowing how it works helps you to properly construct rules and understand what precedence they will have.</span>
<br/>
<span>If all this precedence calculation sounds rather complicated, you&rsquo;ll be pleased to know that in most cases you can usually get by with this simple rule of thumb: in general, the fewer elements that there are to be modified, and the more specific they are, the greater the precedence that is given to a rule.</span>
<h6>Some rules are more equal than others</h6>
<span>Where two or more style rules are exactly equivalent, only the most recently processed rule will take precedence. However, you can force a rule to a higher precedence than other equivalent rules by using the !important declaration, like this:</span>
<pre><code class="css">p { color:#ff0000 !important; }</code></pre>
<span>When you do this, all previous equivalent settings are overridden (even ones using ! important ) and any equivalent rules that are processed later will be ignored. So, for example, the second of the two following rules would normally take precedence, but because of the use of !important in the prior assignment, the second one is ignored:</span>
<code class="css">
p { color:#ff0000 !important; }
p { color:#ffff00 }
</code>
</pre>
<span>User style sheets can be created for specifying default browser styles, and they may use the !important declaration, in which case the user&rsquo;s style setting will take precedence over the same properties specified in the current web page. However, on very old browsers using CSS 1, this feature isn&rsquo;t supported.</span>
<h4>The Difference Between Div and Span Elements</h4>
<span>Both &lt;div&gt; and &lt;span&gt; elements are types of containers, but with some different qualities. By default, a &lt;div&gt; element has infinite width (at least to the browser edge), which you can see by applying a border to one, like this:</span>
<pre><code class="css">&lt;div style="border:1px solid green;"&gt;Hello&lt;/div&gt;</code></pre>
<span>A &lt;span&gt; element, however, is only as wide as the text it contains. Therefore, the following line of HTML creates a border only around the word Hello , which does not extend to the righthand edge of the browser.</span>
<pre><code class="html">&lt;span style="border:1px solid green;"&gt;Hello&lt;/span&gt;</code></pre>
<span>Also, &lt;span&gt; elements follow text or other objects as they wrap around, and can therefore have a complicated border. For example, in &nbsp;Example 18-2 , I used CSS to make the background of all &lt;div&gt; elements yellow, to make all &lt;span&gt; elements cyan, and to add a border to both, before then creating a few example &lt;span&gt; and &lt;div&gt; sections.</span>
<br/>
<span>Example 18-2. Div and span example</span>
<pre>
<code class="html">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;Div and span example&lt;/title&gt;
        &lt;style&gt;
            div, span { border :1px solid black; }
            div { background-color:yellow; }
            span { background-color:cyan; }
        &lt;/style&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;div&gt;This text is within a div tag&lt;/div&gt;
        This isn't. &lt;div&gt;And this is again.&lt;/div&gt;&lt;br&gt;
        &lt;span&gt;This text is inside a span tag.&lt;/span&gt;
        This isn't. &lt;span&gt;And this is again.&lt;/span&gt;&lt;br&gt;&lt;br&gt;
        &lt;div&gt;This is a larger amount of text in a div that wraps around
        to the next line of the browser&lt;/div&gt;&lt;br&gt;
        &lt;span&gt;This is a larger amount of text in a span that wraps around
        to the next line of the browser&lt;/span&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code>
</pre>
<span>Figure 18-4 &nbsp;shows what this example looks like in a web browser. Although it is printed only in shades of gray in this book, the figure clearly shows how &lt;div&gt; elements extend to the righthand edge of a browser, and force the following content to appear at the start of the first available position below them.</span>
<p><img src="images/18.4.png"/></p>
<span>Figure 18-4. A variety of elements of differing width</span>
<br/>
<span>The figure also shows how &lt;span&gt; elements keep to themselves and take up only the space required to hold their content, without forcing subsequent content to appear below them.</span>
<br/>
<span>For example, in the bottom two examples of the figure, you can also see that when &lt;div&gt; elements wrap around the screen edge, they retain a rectangular shape, whereas &lt;span&gt; elements simply follow the flow of the text (or other contents) they contain.</span>
<br/>
<span>Since &lt;div&gt; tags can be only rectangular, they are better suited for containing objects such as images, boxouts, quotations, and so on, while &lt;span&gt; tags are best used for holding text or other attributes that are placed one after another inline, and which should flow from left to right (or right to left in some languages).</span>
<h3>Measurements</h3>
<span>CSS supports an impressive range of units of measurement, enabling you to tailor your web pages precisely to specific values, or by relative dimensions. The ones I generally use (and believe you will also find the most useful) are pixels, points, ems, and percent, but here&rsquo;s the complete list:</span>
<br/>
<span>Pixels</span>
<div class="t30">The size of a pixel varies according to the dimensions and pixel depth of the user&rsquo;s
monitor. One pixel equals the width/height of a single dot on the screen, and so this
measurement is best suited to monitors. For example:</div>
<pre><code class="css">.classname { margin:5px; }</code></pre>
<span>Points</span>
<div class="t30">A point is equivalent in size to 1/72 of an inch. The measurement comes from a print
design background and is best suited for that medium, but is also commonly used on
monitors. For example:</div>
<pre><code class="css">.classname { font-size:14pt; }</code></pre>
<span>Inches</span>
<div class="t30">An inch is the equivalent of 72 points and is also a measurement type best suited for
print. For example:</div>
<pre><code class="css">.classname { width:3in; }</code></pre>
<span>Centimeters</span>
<div class="t30">Centimeters are another unit of measurement best suited for print. One centimeter is
a little over 28 points. For example:</div>
<pre><code class="css">.classname { height:2cm; }</code></pre>
<span>Millimeters</span>
<div class="t30">A millimeter is 1/10 of a centimeter (or almost 3 points). Millimeters are another
measure best suited to print. For example:</div>
<pre><code class="css">classname { font-size:5mm; }</code></pre>
<span>Picas</span>
<div class="t30">A pica is another print typographic measurement, which is equivalent to 12 points.
For example:</div>
<pre><code class="css">.classname { font-size:1pc; }</code></pre>
<span>Ems</span>
<div class="t30">An em is equal to the current font size and is therefore one of the more useful meas
urements for CSS since it is used to describe relative dimensions. For example:</div>
<pre><code class="css">.classname { font-size:2em; }</code></pre>
<span>Exs</span>
<div class="t30">An ex is also related to the current font size; it is equivalent to the height of a
lowercase letter
x
. This is a less popular unit of measurement that is most often
used as a good approximation for helping to set the width of a box that will con
tain some text. For example:</div>
<pre><code class="css">.classname { width:20ex; }</code></pre>
<span>Percent</span>
<div class="t30">This unit is related to the em in that it is exactly 100 times greater (when used on a
font). Whereas 1 em equals the current font size, the same size is 100 in percent.
When not relating to a font, this unit is relative to the size of the container of the
property being accessed. For example:</div>
<pre><code class="css">.classname { height:120%; }</code></pre>
<span>Figure 18-5 shows each of these measurement types in turn being used to display text in almost identical sizes.</span>
<p><img src="images/18.5.png"/></p>
<span>Figure 18-5. Different measurements that display almost the same</span>
<h3>Fonts and Typography</h3>
<span>There are four main font properties that you can style using CSS: family , style , size , and weight. Between them, you can fine-tune the way text displays in your web pages and/or when printed.</span>
<h4>font-family</h4>
<span>The font-family property assigns the font to use. It also supports listing a variety of fonts in order of preference from left to right, so that styling can fall back gracefully when the user doesn&rsquo;t have the preferred font installed. For example, to set the default font for paragraphs, you might use a CSS rule such as this:</span>
<pre><code class="css">p { font-family:Verdana, Arial, Helvetica, sans-serif; }</code></pre>
<span>Where a font name is made up of two or more words, you must enclose the name in quotation marks, like this:</span>
<pre><code class="css">p { font-family:"Times New Roman", Georgia, serif; }</code></pre>
<span>Because they should be available on virtually all web browsers and operating systems, the safest font families to use on a web page are Arial , Helvetica , Times New Roman , Times , Courier New , and Courier. The &nbsp;Verdana , &nbsp;Georgia , &nbsp;Comic Sans MS , &nbsp;Trebuchet MS , &nbsp;Arial Black , and Impact fonts are safe for Mac and PC use, but may not be installed on other operating systems such as Linux. Other common but less safe fonts are &nbsp;Palatino , &nbsp;Garamond , &nbsp;Bookman , and Avant Garde. If you use one of the less safe fonts, make sure you offer fallbacks of one or more safer fonts in your CSS so that your web pages will degrade gracefully on browsers without your preferred fonts. Figure 18-6 shows these two sets of CSS rules being applied.</span>
<p><img src="images/18.6.png"/></p>
<span>Figure 18-6. Selecting font families</span>
<h4>font-style</h4>
<span>With the font-style property, you can choose to display a font normally, in italics, or obliquely. The following rules create three classes ( normal , italic , and oblique ) that can be applied to elements to create these effects:</span>
<pre>
<code class="css">
.normal { font-style:normal; }
.italic { font-style:italic; }
.oblique { font-style:oblique; }
</code>
</pre>
<h4>font-size</h4>
<span>As described in the earlier section on measurements, there are a large number of ways you can change a font&rsquo;s size. But these all boil down to two main types: fixed and relative. A fixed setting looks like the following rule, which sets the default paragraph font size to 14 point:</span>
<pre><code class="css">p { font-size:14pt; }</code></pre>
<span>Alternatively, you may wish to work with the current default font size, using it to style various types of text such as headings. In the following rules, relative sizes of some headers are defined, with the &lt;h4&gt; tag starting off 20 percent bigger than the default, and with each greater size another 40 percent larger than the previous one:</span>
<pre>
<code class="css">
h1 { font-size:240%; }
h2 { font-size:200%; }
h3 { font-size:160%; }
h4 { font-size:120%; }
</code>
</pre>
<span>Figure 18-7 shows a selection of font sizes in use.</span>
<p><img src="images/18.7.png"/></p>
<span>Figure 18-7. Setting four heading sizes and the default paragraph size</span>
<h4>font-weight</h4>
<span>Using the font-weight property, you can choose how boldly to display a font. It supports a number of values, but the main ones you will use are likely to be normal and bold , like this:</span>
<pre><code class="css">.bold { font-weight:bold; }</code></pre>
<h3>Managing Text Styles</h3>
<span>Regardless of the font in use, you can further modify the way text displays by altering its decoration, spacing, and alignment. There is a crossover between the text and font properties, though, in that effects such as italics or bold text are achieved via the font-style and font-weight properties, while others such as underlining require the text-decoration property.</span>
<h4>Decoration</h4>
<span>With the text-decoration property, you can apply effects to text such as underline , line-through , overline , and blink. The following rule creates a new class called over that applies overlines to text (the weight of over, under, and through lines will match that of the font):</span>
<pre><code class="css">.over { text-decoration:overline; }</code></pre>
<span>In Figure 18-8 you can see a selection of font styles, weight, and decorations.</span>
<p><img src="images/18.8.png"/></p>
<span>Figure 18-8. Examples of the styles and decoration rules available</span>
<h4>Spacing</h4>
<span>A number of different properties allow you to modify line, word, and letter spacing. For example, the following rules change the line spacing for paragraphs by modifying the line-height property to be 25 percent greater, the word-spacing property is set to 30 pixels, and letter-spacing is set to 3 pixels:</span>
<pre>
<code class="css">
p {
    line-height :125%;
    word-spacing :30px;
    letter-spacing:3px;
}
</code>
</pre>
<h4>Alignment</h4>
<span>There are four types of text alignment available in CSS: left , right , center , and jus tify. In the following rule, default paragraph text is set to full justification:</span>
<pre><code class="css">p { text-align:justify; }</code></pre>
<h4>Transformation</h4>
<span>There are four properties available for transforming your text: none , capitalize , uppercase , and lowercase. The following rule creates a class called upper that will ensure that all text is displayed in uppercase when it is used:</span>
<pre><code class="css">.upper { text-transform:uppercase; }</code></pre>
<h4>Indenting</h4>
<span>Using the text-indent property, you can indent the first line of a block of text by a specified amount. The following rule indents the first line of every paragraph by 20 pixels, although a different unit of measurement or a percent increase could also be applied:</span>
<pre><code class="css">p { text-indent:20px; }</code></pre>
<span>In Figure 18-9 the following rules have been applied to a section of text:</span>
<pre>
<code class="css">
p { line-height :150%;
    word-spacing :10px;
    letter-spacing:1px;
}
.justify { text-align :justify; }
.uppercase { text-transform:uppercase; }
.indent { text-indent :20px; }
</code>
</pre>
<p><img src="images/18.9.png"/></p>
<span>Figure 18-9. Indenting, uppercase, and spacing rules being applied</span>
<h3>CSS Colors</h3>
<span>You can apply colors to the foreground and background of text and objects by using the color and background-color properties (or by supplying a single argument to the background property). The colors specified can be one of the named colors (such as red or blue ), colors created from hexadecimal RGB triplets (such as #ff0000 or #0000ff ), or colors created using the rgb CSS function.</span>
<br/>
<span>The standard 16 color names as defined by the W3C ( http://www.w3.org/ ) standards organization are aqua , black , blue , fuchsia , gray , green , lime , maroon , navy , olive , purple , red , silver , teal , white , and yellow. The following rule uses one of these names to set the background color for an object with the ID of object.</span>
<pre><code class="css">#object { background-color:silver; }</code></pre>
<span>In this rule, the foreground color of text in all &lt;div&gt; elements is set to yellow (because on a computer display, hexadecimal levels of ff red, plus ff green, plus 00 blue creates the color yellow):</span>
<pre><code class="css">div { color:#ffff00; }</code></pre>
<span>Or, if you don&rsquo;t wish to work in hexadecimal, you can specify your color triplets by using the rgb function, as in the following rule, which changes the background color of the current document to aqua:</span>
<pre><code class="css">body { background-color:rgb(0, 255, 255); }</code></pre>
<span>If you prefer not to work in ranges of 256 levels per color, you can use percentages in the rgb function instead, with values from 0 to 100 ranging from the lowest ( 0 ) amount of a primary color, through to the highest ( 100 ), like this: rgb(58%, 95%, 74%). You can also use floating-point values for even finer color control, like this: rgb(23.4%, 67.6%, 15.5%).</span>
<h4>Short Color Strings</h4>
<span>There is also a short form of the hex digit string in which only the first of each 2-byte pair is used for each color. For example, instead of assigning the color #fe4692 , you instead use #f49 , omitting the second hex digit from each pair, which equates to a color value of #ff4499.</span>
<br/>
<span>This results in almost the same color and is useful where exact colors are not required. The difference between a six-digit and three-digit string is that the former supports 16 million different colors, while the latter supports four thousand.</span>
<br/>
<span>Wherever you intend to use a color such as #883366 , this is the direct equivalent of #836 (since the repeated digits are implied by the shorter version), and you can use either string to create the exact same color.</span>
<h4>Gradients</h4>
<span>In place of using a solid background color, you can choose to apply a gradient, which will then automatically flow from a given initial color to a final color of your choice. It is best used in conjunction with a simple color rule so that browsers that don&rsquo;t support gradients will at least display a solid color.</span>
<br/>
<span>Example 18-3 &nbsp;uses a rule to display an orange gradient (or simply plain orange on nonsupporting browsers), as shown in the middle section of Figure 18-10.</span>
<br/>
<span>Example 18-3. Creating a linear gradient</span>
<pre>
<code class="html">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;Creating a linear gradient&lt;/title&gt;
        &lt;style&gt;
       .orangegrad {
            background:orange;
            background:linear-gradient(top, #fb0, #f50);
            background:-moz-linear-gradient(top, #fb0, #f50);
            background:-webkit-linear-gradient(top, #fb0, #f50);
            background:-o-linear-gradient(top, #fb0, #f50);
            background:-ms-linear-gradient(top, #fb0, #f50); }
        &lt;/style&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;div class='orangegrad'&gt;Black text&lt;br&gt;
        on an orange&lt;br&gt;linear gradient&lt;/div&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code>
</pre>
<p><img src="images/18.10.png"/></p>
<span>Figure 18-10. A solid background color, a linear gradient, and a radial gradient</span>
<br/>
<span>As shown in the preceding example, many CSS rules require browser-specific prefixes such as -moz- , -webkit- , -o- , and -ms- (for Mozilla-based browsers such as Firefox; WebKit-based browsers such as Apple Safari, Google Chrome, and the iOS and Android browsers; and the Opera and Microsoft browsers). The website at http://caniuse.com &nbsp;lists the major CSS rules and attributes, and whether browser-specific versions are required.</span>
<br/>
<span>To create a gradient, choose where it will begin out of top , bottom , left , right , and center (or any combination, such as top left or center right ), enter the start and end colors you require, and then apply either the linear-gradient or radial- gradient rule, making sure you also supply rules for all browsers you are targeting.</span>
<br/>
<span>You can also use more than just a start and end color by supplying what are termed stop colors in between as additional arguments. In this case, for example, if five arguments are supplied, each argument will control the color change over a fifth of the area represented by its location in the argument list.</span>
<h3>Positioning Elements</h3>
<span>Elements within a web page fall where they are placed in the document, but you can move them about by changing an element&rsquo;s position property from the default of static to one of absolute , relative , or fixed.</span>
<h4>Absolute Positioning</h4>
<span>An element with absolute positioning is removed from the document, and any other elements that are capable will flow into its released space. You can then position the object anywhere you like within the document by using the top , right , bottom , and left properties. It will then rest on top of (or behind) other elements.</span>
<br/>
<span>So, for example, to move an object with the ID of object to the absolute location of 100 pixels down from the document start and 200 pixels in from the left, you would apply the following rules to it (you can also use any of the other units of measurement supported by CSS):</span>
<pre>
<code class="css">
#object {
    position:absolute;
    top :100px;
    left :200px;
}
</code>
</pre>
<h4>Relative Positioning</h4>
<span>Likewise, you can move the object relative to the location it would occupy in the normal document flow. So, for example, to move object 10 pixels down and 10 pixels to the right of its normal location, you would use the following rules:</span>
<pre>
<code class="css">
#object {
    position:relative;
    top :10px;
    left :10px;
}
</code>
</pre>
<h4>Fixed Positioning</h4>
<span>The final positioning property setting lets you move an object to an absolute location, but only within the current browser viewport. Then, when the document is scrolled, the object remains exactly where it has been placed, with the main document scrolling beneath it&mdash;a great way to create dock bars and other similar devices. To fix the object to the top-left corner of the browser window, you use the following rules:</span>
<pre>
<code class="css">
#object {
    position:fixed;
    top :0px;
    left :0px;
}
</code>
</pre>
<span>In Figure 18-11 , Example 18-4 has been loaded into a browser, and the browser has been reduced in width and height so that you must scroll down to see all of the web page.</span>
<p><img src="images/18.11.png"/></p>
<span>Figure 18-11. Using different positioning values</span>
<br/>
<span>When this is done, it is immediately obvious that the element with fixed positioning remains in place even through scrolling. You can also see that the element with absolute positioning is located exactly at 100 pixels down, with 0 horizontal offset, while the element with relative positioning is actually moved up by 8 pixels and then offset from the left margin by 110 pixels in order to line up alongside the first element.</span>
<br/>
<span>Example 18-4. Applying different positioning values</span>
<pre>
<code class="html">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;Positioning&lt;/title&gt;
        &lt;style&gt;
            #object1 {
                position :absolute;
                background:pink;
                width :100px;
                height :100px;
                top :100px;
                left :0px;
            }

            #object2 {
                position :relative;
                background:lightgreen;
                width :100px;
                height :100px;
                top :-8px;
                left :110px;
            }

            #object3 {
                position :fixed;
                background:yellow;
                width :100px;
                height :100px;
                top :100px;
                left :236px;
            }
        &lt;/style&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;
        &lt;div id='object1'&gt;Absolute Positioning&lt;/div&gt;
        &lt;div id='object2'&gt;Relative Positioning&lt;/div&gt;
        &lt;div id='object3'&gt;Fixed Positioning&lt;/div&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code>
</pre>
<span>In the figure, the element with fixed positioning initially lines up with the other two elements, but has stayed put while the others have been scrolled up the page, and now appears offset below them.</span>
<h3>Pseudoclasses</h3>
<span>A number of selectors and classes are used only within a style sheet and do not have any matching tags or attributes within any HTML. Their task is to classify elements using characteristics other than their name, attributes, or content&mdash;that is, characteristics that cannot be deduced from the document tree. These include &nbsp;pseudoclasses such as link and visited. There are also pseudoelements that make a selection, which may consist of partial elements such as first-line or first-letter.</span>
<br/>
<span>Pseudoclasses and pseudoelements are separated by a : (colon) character. For example, to create a class called bigfirst for emphasizing the first letter of an element, you would use a rule such as the following:</span>
<pre>
<code class="css">
.bigfirst:first-letter {
    font-size:400%;
    float :left;
}
</code>
</pre>
<span>When the bigfirst class is applied to an element, the first letter will be displayed much enlarged, with the remaining text shown at normal size, neatly flowing around it (due to the float property) as if the first letter were an image or other object. Pseudoclasses include hover , link , active , and visited , all of which are mostly useful for applying to anchor elements, as in the following rules, which set the default color of all links to blue, and that of links that have already been visited to light blue:</span>
<pre>
<code class="css">
a:link { color:blue; }
a:visited { color:lightblue; }
</code>
</pre>
<span>The following rules are interesting in that they use the hover pseudoclass so that they are applied only when the mouse is placed over the element. In this example, they change the link to white text on a red background, providing a dynamic effect you would normally expect only from using JavaScript code:</span>
<pre>
<code class="css">
a:hover {
    color :white;
    background:red;
}
</code>
</pre>
<span>Here I have used the background property with a single argument, instead of the longer background-color property.</span>
<br/>
<span>The active pseudoclass is also dynamic in that it effects a change to a link during the time between the mouse button being clicked and released, as with this rule, which changes the link color to dark blue:</span>
<pre><code class="css">a:active { color:darkblue; }</code></pre>
<span>Another interesting dynamic pseudoclass is focus , which is applied only when an element is given focus by the user selecting it with the keyboard or mouse. The following rule uses the universal selector to always place a mid-gray, dotted, 2-pixel border around the currently focused object:</span>
<pre><code class="css">*:focus { border:2px dotted #888888; }</code></pre>
<span>Example 18-5 &nbsp;displays two links and an input field, as shown in Figure 18-12. The first link shows up as gray since it has already been visited in this browser, but the second link has not and displays in blue. The Tab key has been pressed, and the focus of input is now the input field, so its background has changed to yellow. When either link is clicked, it will display in purple, and when hovered over, it will appear red.</span>
<br/>
<span>Example 18-5. Link and focus pseudoclasses</span>
<pre>
<code class="css">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;Pseudo-classes&lt;/title&gt;
        &lt;style&gt;
            a:link { color:blue; }
            a:visited { color:gray; }
            a:hover { color:red; }
            a:active { color:purple; }
            *:focus { background:yellow; }
        &lt;/style&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;a href='http://google.com'&gt;Link to Google'&lt;/a&gt;&lt;br&gt;
        &lt;a href='nowhere'&gt;Link to nowhere'&lt;/a&gt;&lt;br&gt;
        &lt;input type='text'&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code>
</pre>
<p><img src="images/18.12.png"/></p>
<span>Figure 18-12. Pseudoclasses applied to a selection of elements</span>
<br/>
<span>Other pseudoclasses are also available, and you can get more information on them at http://tinyurl.com/pseudoclasses.</span>
<br/>
<span>Beware of applying the focus pseudoclass to the universal selector, * , as shown in this example; Internet Explorer regards an unfocused document as having focus applied to the entire web page, and (in this instance) the whole page will turn yellow until Tab is pressed or focus is otherwise applied to one of the page&rsquo;s elements.</span>
<h3>Shorthand Rules</h3>
<span>To save space, groups of related CSS properties can be concatenated into a single shorthand assignment. For example, I have already used the shorthand for creating a border a few times, as in the focus rule in the previous section:</span>
<pre><code class="css">*:focus { border:2px dotted #ff8800; }</code></pre>
<span>This is actually a shorthand concatenation of the following rule set:</span>
<pre>
<code class="css">
*:focus {
    border-width:2px;
    border-style:dotted;
    border-color:#ff8800;
}
</code>
</pre>
<span>When using a shorthand rule, you need only apply the properties up to the point where you wish to change values. So you could use the following to set only a border&rsquo;s width and style, choosing not to set its color:</span>
<pre><code class="css">*:focus { border:2px dotted; }</code></pre>
<span>The order in which the properties are placed in a shorthand rule can be important, and misplacing them is a common way to get unexpected results. Since there are far too many to detail in this chapter, if you wish to use shorthand CSS, you will need to look up the default properties and their order of application using a CSS manual or search engine. To get you started, I recommend visiting http://dustindiaz.com/css-shorthand.</span>
<h3>The Box Model and Layout</h3>
<span>The CSS properties affecting the layout of a page are based around the box model (see Chapter 13 for more details), a nested set of properties surrounding an element. Virtually all elements have (or can have) these properties, including the document body, whose margin you can (for example) remove with the following rule:</span>
<pre><code class="css">body { margin:0px; }</code></pre>
<span>The box model of an object starts at the outside, with the object&rsquo;s margin. Inside this is the border, then there is padding between the border and the inner contents, and finally there&rsquo;s the object&rsquo;s contents. Once you have the hang of the box model, you will be well on your way to creating professionally laid-out pages, since these properties alone will make up much of your page styling.</span>
<h4>Setting Margins</h4>
<span>The margin is the outermost level of the box model. It separates elements from each other and its use is quite smart. For example, assume you give a number of elements a default margin of 10 pixels around each. When they are placed on top of each other, this would create a gap of 20 pixels (the total of the adjacent border widths).</span>
<br/>
<span>CSS overcomes this potential issue, however: when two elements with borders are positioned directly one above the other, only the larger of the two margins is used to separate them. If both margins are the same width, just one of the widths is used. This way, you are much more likely to get the result you want. But you should note that the margins of absolutely positioned or inline elements do not collapse.</span>
<br/>
<span>The margins of an element can be changed en masse with the margin property, or individually with margin-left , margin-top , margin-right , and margin-bottom. When setting the margin property, you can supply one, two, three, or four arguments, which have the effects commented in the following rules:</span>
<pre>
<code class="css">
/* Set all margins to 1 pixel */
margin:1px;
/* Set top and bottom to 1 pixel, and left and right to 2 */
margin:1px 2px;
/* Set top to 1 pixel, left and right to 2, and bottom to 3 */
margin:1px 2px 3px;
/* Set top to 1 pixel, right to 2, bottom to 3, and left to 4 */
margin:1px 2px 3px 4px;
</code>
</pre>
<span>Figure 18-13 &nbsp;shows &nbsp;Example 18-6 &nbsp;loaded into a browser, with the margin property rule (highlighted in bold) applied to a square element that has been placed inside a table element. The table has been given no dimensions, so it will simply wrap as closely around the inner &lt;div&gt; element as it can. As a consequence, there is a margin of 10 pixels above it, 20 pixels to its right, 30 pixels below it, and 40 pixels to its left.</span>
<br/>
<span>Example 18-6. How margins are applied</span>
<pre>
<code class="css">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;Margins&lt;/title&gt;
        &lt;style&gt;
            #object1 {
                background :lightgreen;
                border-style:solid;
                border-width:1px;
                font-family :"Courier New";
                font-size :9px;
                width :100px;
                height :100px;
                padding :5px;
                margin :10px 20px 30px 40px;

            }

            table {
                padding :0;
                border :1px solid black;
                background :cyan;
            }
        &lt;/style&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;table&gt;
            &lt;tr&gt;
                &lt;td&gt;
                    &lt;div id='object1'&gt;margin:&lt;br&gt;10px 20px 30px 40px;&lt;/div&gt;
                &lt;/td&gt;
            &lt;/tr&gt;
        &lt;/table&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code>
</pre>
<p><img src="images/18.13.png"/></p>
<span>Figure 18-13. The outer table expands according to the margin widths</span>
<h4>Applying Borders</h4>
<span>The border level of the box model is similar to the margin except that there is no collapsing. It is the next level as we move into the box model. The main properties used to modify borders are border , border-left , border-top , border-right , and border-bottom , and each of these can have other subproperties added as suffixes, such as -color , -style , and -width.</span>
<br/>
<span>The four ways of accessing individual property settings used for the margin property also apply with the border-width property, so all the following are valid rules:</span>
<pre>
<code class="css">
/* All borders */
border-width:1px;
/* Top/bottom left/right */
border-width:1px 5px;
/* Top left/right bottom */
border-width:1px 5px 10px;
/* Top right bottom left */
border-width:1px 5px 10px 15px;
</code>
</pre>
<span>Figure 18-14 shows each of these rules applied in turn to a group of square elements. In the first one, you can clearly see that all borders have a width of 1 pixel. The second element, however, has a top and bottom border width of 1 pixel, while its side widths are 5 pixels each.</span>
<br/>
<span>The third element has a 1-pixel-wide top, its sides are 5 pixels wide, and its bottom is 10 pixels wide. The fourth element has a 1-pixel top border width, a 5-pixel right border width, a 10-pixel bottom border width, and a 15-pixel left border width.</span>
<p><img src="images/18.14.png"/></p>
<span>Figure 18-14. Applying long- and shorthand border rule values</span>
<br/>
<span>The final element, under the previous ones, doesn&rsquo;t use the shorthand rules; instead, it has each of the border widths set separately. As you can see, it takes a lot more typing to achieve the same result.</span>
<h4>Adjusting Padding</h4>
<span>The deepest of the box model levels (other than the contents of an element) is the padding, which is applied inside any borders and/or margins. The main properties used to modify padding are padding , padding-left , padding-top , padding-right , and padding-bottom.</span>
<br/>
<span>The four ways of accessing individual property settings used for the margin and the border properties also apply with the padding property, so all the following are valid rules:</span>
<pre>
<code class="css">
/* All padding */
padding:1px;
/* Top/bottom and left/right */
padding:1px 2px;
/* Top, left/right and bottom */
padding:1px 2px 3px;
/* Top, right, bottom and left */
padding:1px 2px 3px 4px;
</code>
</pre>
<span>Figure 18-15 &nbsp;shows the padding rule (shown in bold) in &nbsp;Example 18-7 &nbsp;applied to some text within a table cell (as defined by the rule display:table-cell; , which makes the encapsulating &lt;div&gt; element display like a table cell), which has been given no dimensions so it will simply wrap as closely around the text as it can. As a consequence, there is padding of 10 pixels above the inner element, 20 pixels to its right, 30 pixels below it, and 40 pixels to its left.</span>
<br/>
<span>Example 18-7. Applying padding</span>
<pre>
<code class="html">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
    &lt;title&gt;Padding&lt;/title&gt;
        &lt;style&gt;
        #object1 {
            border-style:solid;
            border-width:1px;
            background :orange;
            color :darkred;
            font-family :Arial;
            font-size :12px;
            text-align :justify;
            display :table-cell;
            width :148px;
            padding :10px 20px 30px 40px; 
        }
        &lt;/style&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;div id='object1'&gt;To be, or not to be that is the question:
        Whether 'tis Nobler in the mind to suffer
        The Slings and Arrows of outrageous Fortune,
        Or to take Arms against a Sea of troubles,
        And by opposing end them.&lt;/div&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code>
</pre>
<p><img src="images/18.15.png"/></p>
<span>Figure 18-15. Applying different padding values to an object</span>
<h4>Object Contents</h4>
<span>Deep within the box model levels, at its center, lies an element that can be styled in all the ways discussed in this chapter, and which can (and usually will) contain further subelements, which in turn may contain sub-subelements, and so on, each with its own styling and box model settings.</span>